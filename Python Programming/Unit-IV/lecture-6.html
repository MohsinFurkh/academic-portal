<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit-IV: MongoDB & Advanced Database Operations</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            line-height: 1.6;
        }

        .lecture-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2a5298;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .section-header {
            font-size: 1.5em;
            color: #1e3c72;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .section-content {
            line-height: 1.7;
        }

        .section-content p {
            margin-bottom: 15px;
        }

        .code-block {
            background: #f8f9fa;
            border-left: 4px solid #1e3c72;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
            font-size: 0.9em;
        }

        .code-block .copy-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #e0e0e0;
            border: none;
            border-radius: 3px;
            padding: 2px 5px;
            font-size: 0.8em;
            cursor: pointer;
        }

        .code-block .copy-btn:hover {
            background: #d0d0d0;
        }

        .note {
            background: #e7f4ff;
            border-left: 4px solid #1e88e5;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }

        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }

        .success {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }

        .database-comparison {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .database-comparison th, 
        .database-comparison td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        .database-comparison th {
            background-color: #f2f2f2;
            font-weight: 600;
        }

        .database-comparison tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .database-comparison tr:hover {
            background-color: #f1f1f1;
        }

        .btn {
            display: inline-block;
            background: #1e3c72;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9em;
        }

        .btn:hover {
            background: #2a5298;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-danger {
            background: #dc3545;
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .progress-container {
            width: 100%;
            background-color: #f1f1f1;
            border-radius: 5px;
            margin: 20px 0;
        }

        .progress-bar {
            width: 0%;
            height: 10px;
            background-color: #1e3c72;
            border-radius: 5px;
            transition: width 0.3s;
        }

        .mongo-shell {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            position: relative;
        }

        .mongo-prompt {
            color: #50fa7b;
            margin-right: 5px;
        }

        .mongo-command {
            color: #f8f8f2;
        }

        .mongo-comment {
            color: #6272a4;
            font-style: italic;
        }

        .mongo-output {
            color: #f1fa8c;
            margin-top: 10px;
            border-top: 1px solid #444;
            padding-top: 10px;
        }

        .tabs {
            display: flex;
            margin-bottom: -1px;
        }

        .tab {
            padding: 10px 20px;
            background: #f1f1f1;
            border: 1px solid #ddd;
            border-bottom: none;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
            font-size: 0.9em;
        }

        .tab.active {
            background: white;
            border-bottom: 1px solid white;
        }

        .tab-content {
            display: none;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 0 0 5px 5px;
            background: white;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .lecture-container {
                padding: 10px;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            .section {
                padding: 15px;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                border-radius: 0;
                margin-right: 0;
                border-bottom: 1px solid #ddd;
            }

            .tab:first-child {
                border-radius: 5px 5px 0 0;
            }

            .tab.active {
                border-bottom: 1px solid white;
            }
        }
    </style>
</head>
<body>
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="lecture-container">
        <!-- Header Section -->
        <div class="header">
            <h1>ðŸ“Š Unit-IV: Advanced Database Operations</h1>
            <p>Lecture 6: MongoDB CRUD, Transactions & Error Handling</p>
        </div>

        <!-- Introduction to MongoDB -->
        <div class="section">
            <div class="section-header">1. Introduction to MongoDB</div>
            <div class="section-content">
                <p>MongoDB is a popular NoSQL database that stores data in flexible, JSON-like documents. It's designed for scalability and developer agility.</p>
                
                <h4>Key Features of MongoDB</h4>
                <ul>
                    <li><strong>Document-Oriented</strong>: Stores data in BSON (Binary JSON) format</li>
                    <li><strong>Schema-less</strong>: Documents in a collection can have different fields</li>
                    <li><strong>Scalable</strong>: Horizontal scaling with sharding</li>
                    <li><strong>High Performance</strong>: Indexing and rich queries</li>
                    <li><strong>Aggregation</strong>: Powerful data processing pipeline</li>
                </ul>

                <div class="note">
                    <strong>MongoDB vs SQL Terminology</strong><br>
                    <table class="database-comparison">
                        <tr>
                            <th>SQL</th>
                            <th>MongoDB</th>
                        </tr>
                        <tr>
                            <td>Database</td>
                            <td>Database</td>
                        </tr>
                        <tr>
                            <td>Table</td>
                            <td>Collection</td>
                        </tr>
                        <tr>
                            <td>Row</td>
                            <td>Document</td>
                        </tr>
                        <tr>
                            <td>Column</td>
                            <td>Field</td>
                        </tr>
                        <tr>
                            <td>Primary Key</td>
                            <td>_id (default)</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- Setting Up MongoDB with Python -->
        <div class="section">
            <div class="section-header">2. Setting Up MongoDB with Python</div>
            <div class="section-content">
                <p>To work with MongoDB in Python, we use the <code>pymongo</code> driver, the recommended way to work with MongoDB from Python.</p>
                
                <h4>Installation</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    # Install pymongo using pip
                    pip install pymongo
                    
                    # For additional features like GridFS and BSON tools
                    pip install pymongo[srv,ocsp,tls]
                </div>

                <h4>Connecting to MongoDB</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    from pymongo import MongoClient
                    from pymongo.errors import ConnectionFailure
                    
                    # Basic connection (default: localhost:27017)
                    client = MongoClient('mongodb://localhost:27017/')
                    
                    # Connection with authentication
                    # client = MongoClient('mongodb://username:password@localhost:27017/')
                    
                    # Connect to a specific database
                    db = client['mydatabase']
                    
                    # Test the connection
                    try:
                        # The ismaster command is cheap and does not require auth
                        client.admin.command('ismaster')
                        print("MongoDB connection successful!")
                    except ConnectionFailure as e:
                        print(f"MongoDB connection failed: {e}")
                    finally:
                        # Close the connection when done
                        # client.close()
                        pass
                </div>

                <div class="warning">
                    <strong>Security Note:</strong> Never hardcode credentials in your code. Use environment variables or a configuration file to store sensitive information.
                </div>
            </div>
        </div>

        <!-- CRUD Operations in MongoDB -->
        <div class="section">
            <div class="section-header">3. CRUD Operations in MongoDB</div>
            <div class="section-content">
                <p>MongoDB provides intuitive methods for Create, Read, Update, and Delete (CRUD) operations.</p>
                
                <div class="tabs">
                    <div class="tab active" onclick="openTab(event, 'create-tab')">Create</div>
                    <div class="tab" onclick="openTab(event, 'read-tab')">Read</div>
                    <div class="tab" onclick="openTab(event, 'update-tab')">Update</div>
                    <div class="tab" onclick="openTab(event, 'delete-tab')">Delete</div>
                </div>

                <div id="create-tab" class="tab-content active">
                    <h4>Create Operations</h4>
                    <p>Insert documents into a collection.</p>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        from datetime import datetime
                        
                        # Get the collection (creates it if it doesn't exist)
                        collection = db['users']
                        
                        # Insert a single document
                        user1 = {
                            "username": "johndoe",
                            "email": "john@example.com",
                            "age": 30,
                            "interests": ["programming", "reading", "hiking"],
                            "created_at": datetime.utcnow()
                        }
                        
                        # Insert one document
                        result = collection.insert_one(user1)
                        print(f"Inserted document with id: {result.inserted_id}")
                        
                        # Insert multiple documents
                        user2 = {
                            "username": "janedoe",
                            "email": "jane@example.com",
                            "age": 28,
                            "interests": ["photography", "travel"],
                            "created_at": datetime.utcnow()
                        }
                        
                        user3 = {
                            "username": "bobsmith",
                            "email": "bob@example.com",
                            "age": 35,
                            "interests": ["cooking", "gaming"],
                            "is_active": True,
                            "created_at": datetime.utcnow()
                        }
                        
                        result = collection.insert_many([user2, user3])
                        print(f"Inserted {len(result.inserted_ids)} documents")
                    </div>
                </div>

                <div id="read-tab" class="tab-content">
                    <h4>Read Operations</h4>
                    <p>Query documents from a collection.</p>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        # Find a single document
                        user = collection.find_one({"username": "johndoe"})
                        print("Single user:", user)
                        
                        # Find all documents
                        print("\nAll users:")
                        for user in collection.find():
                            print(user)
                        
                        # Find with query operators
                        print("\nUsers older than 30:")
                        for user in collection.find({"age": {"$gt": 30}}):
                            print(user["username"], user["age"])
                        
                        # Projection (select specific fields)
                        print("\nUsernames and emails:")
                        for user in collection.find(
                            {},
                            {"username": 1, "email": 1, "_id": 0}  # 1 for include, 0 for exclude
                        ):
                            print(user)
                        
                        # Sorting and limiting
                        print("\nYoungest 2 users:")
                        for user in collection.find().sort("age", 1).limit(2):
                            print(user["username"], user["age"])
                    </div>
                </div>

                <div id="update-tab" class="tab-content">
                    <h4>Update Operations</h4>
                    <p>Modify existing documents.</p>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        from bson.objectid import ObjectId
                        
                        # Update a single document
                        result = collection.update_one(
                            {"username": "johndoe"},
                            {"$set": {"age": 31, "last_updated": datetime.utcnow()}}
                        )
                        print(f"Modified {result.modified_count} document")
                        
                        # Update multiple documents
                        result = collection.update_many(
                            {"age": {"$exists": True}},
                            {"$inc": {"age": 1}}  # Increment age by 1
                        )
                        print(f"Updated {result.modified_count} documents")
                        
                        # Upsert (update if exists, insert if not)
                        result = collection.update_one(
                            {"username": "alice"},
                            {
                                "$setOnInsert": {
                                    "username": "alice",
                                    "email": "alice@example.com",
                                    "created_at": datetime.utcnow()
                                },
                                "$set": {
                                    "last_login": datetime.utcnow()
                                }
                            },
                            upsert=True
                        )
                        
                        if result.upserted_id:
                            print(f"Inserted new user with id: {result.upserted_id}")
                    </div>
                </div>

                <div id="delete-tab" class="tab-content">
                    <h4>Delete Operations</h4>
                    <p>Remove documents from a collection.</p>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        # Delete a single document
                        result = collection.delete_one({"username": "bobsmith"})
                        print(f"Deleted {result.deleted_count} document")
                        
                        # Delete multiple documents
                        result = collection.delete_many({"age": {"$lt": 30}})
                        print(f"Deleted {result.deleted_count} documents")
                        
                        # Delete all documents in a collection (be careful!)
                        # result = collection.delete_many({})
                        # print(f"Deleted {result.deleted_count} documents")
                        
                        # Drop the entire collection (removes the collection and its indexes)
                        # collection.drop()
                    </div>
                    
                    <div class="warning">
                        <strong>Warning:</strong> Be extremely careful with delete operations, especially <code>delete_many({})</code> and <code>drop()</code> as they can result in data loss.
                    </div>
                </div>
            </div>
        </div>

        <!-- MongoDB Transactions -->
        <div class="section">
            <div class="section-header">4. MongoDB Transactions</div>
            <div class="section-content">
                <p>MongoDB supports multi-document transactions, allowing you to execute multiple operations atomically.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    from pymongo import MongoClient
                    from pymongo.errors import ConnectionFailure, OperationFailure
                    
                    # For a replica set
                    client = MongoClient('mongodb://localhost:27017/?replicaSet=rs0')
                    
                    # Get the database and collections
                    db = client['bank']
                    accounts = db.accounts
                    transactions = db.transactions
                    
                    # Sample data
                    accounts.delete_many({})  # Clear existing data
                    accounts.insert_many([
                        {"account_id": "A1", "balance": 1000},
                        {"account_id": "A2", "balance": 500}
                    ])
                    
                    # Transfer money between accounts
                    def transfer_funds(from_account, to_account, amount):
                        # Start a client session
                        with client.start_session() as session:
                            # Start a transaction
                            session.start_transaction()
                            try:
                                # Withdraw from source account
                                result = accounts.update_one(
                                    {"account_id": from_account, "balance": {"$gte": amount}},
                                    {"$inc": {"balance": -amount}},
                                    session=session
                                )
                                
                                if result.modified_count == 0:
                                    print("Insufficient funds or account not found")
                                    session.abort_transaction()
                                    return False
                                
                                # Deposit to target account
                                result = accounts.update_one(
                                    {"account_id": to_account},
                                    {"$inc": {"balance": amount}},
                                    session=session
                                )
                                
                                if result.modified_count == 0:
                                    print("Target account not found")
                                    session.abort_transaction()
                                    return False
                                
                                # Record the transaction
                                transactions.insert_one({
                                    "from": from_account,
                                    "to": to_account,
                                    "amount": amount,
                                    "timestamp": datetime.utcnow()
                                }, session=session)
                                
                                # Commit the transaction
                                session.commit_transaction()
                                print("Transaction completed successfully")
                                return True
                                
                            except Exception as e:
                                # Abort the transaction on error
                                print(f"Transaction failed: {e}")
                                session.abort_transaction()
                                return False
                    
                    # Test the transfer
                    print("Balances before transfer:")
                    for acc in accounts.find():
                        print(f"Account {acc['account_id']}: ${acc['balance']}")
                    
                    # Transfer $200 from A1 to A2
                    transfer_funds("A1", "A2", 200)
                    
                    print("\nBalances after transfer:")
                    for acc in accounts.find():
                        print(f"Account {acc['account_id']}: ${acc['balance']}")
                </div>

                <div class="note">
                    <strong>Important Notes on Transactions:</strong>
                    <ul>
                        <li>Transactions require a replica set or sharded cluster</li>
                        <li>Operations within a transaction must be on the same session</li>
                        <li>Transactions have a default timeout (60 seconds by default)</li>
                        <li>Not all operations are allowed in transactions (e.g., creating collections)</li>
                        <li>Always handle errors and explicitly commit or abort transactions</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Error Handling and Best Practices -->
        <div class="section">
            <div class="section-header">5. Error Handling and Best Practices</div>
            <div class="section-content">
                <h4>Common MongoDB Exceptions</h4>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    from pymongo import MongoClient
                    from pymongo.errors import (
                        ConnectionFailure,
                        OperationFailure,
                        DuplicateKeyError,
                        BulkWriteError
                    )
                    
                    try:
                        # Attempt to connect to MongoDB
                        client = MongoClient('mongodb://localhost:27017/')
                        
                        # Force a connection to check if server is available
                        client.admin.command('ismaster')
                        
                        db = client['mydb']
                        collection = db['users']
                        
                        # Create a unique index
                        collection.create_index([("email", 1)], unique=True)
                        
                        # Try to insert a duplicate document
                        collection.insert_one({"email": "test@example.com"})
                        collection.insert_one({"email": "test@example.com"})  # This will raise DuplicateKeyError
                        
                    except ConnectionFailure as e:
                        print(f"Could not connect to MongoDB: {e}")
                        
                    except DuplicateKeyError as e:
                        print(f"Duplicate key error: {e.details}")
                        
                    except OperationFailure as e:
                        print(f"Operation failed: {e.details}")
                        
                    except Exception as e:
                        print(f"An unexpected error occurred: {e}")
                        
                    finally:
                        # Always close the connection
                        if 'client' in locals():
                            client.close()
                </div>

                <h4>Best Practices</h4>
                
                <div class="success">
                    <strong>1. Connection Handling</strong>
                    <ul>
                        <li>Use connection pooling (enabled by default in PyMongo)</li>
                        <li>Reuse the client instance across your application</li>
                        <li>Close connections when your application shuts down</li>
                    </ul>
                    
                    <strong>2. Performance</strong>
                    <ul>
                        <li>Create appropriate indexes for your queries</li>
                        <li>Use projection to retrieve only necessary fields</li>
                        <li>Limit the number of documents returned with <code>limit()</code></li>
                        <li>Use <code>batch_size()</code> for large result sets</li>
                    </ul>
                    
                    <strong>3. Security</strong>
                    <ul>
                        <li>Enable authentication and authorization</li>
                        <li>Use TLS/SSL for network encryption</li>
                        <li>Validate and sanitize all inputs</li>
                        <li>Follow the principle of least privilege</li>
                    </ul>
                    
                    <strong>4. Schema Design</strong>
                    <ul>
                        <li>Design your schema based on your application's query patterns</li>
                        <li>Consider embedding documents for one-to-few relationships</li>
                        <li>Use references for many-to-many relationships or large hierarchies</li>
                        <li>Consider denormalization for read-heavy workloads</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Summary and Practice -->
        <div class="section">
            <div class="section-header">Summary</div>
            <div class="section-content">
                <p>In this lecture, we've covered:</p>
                <ul>
                    <li><strong>MongoDB Basics</strong>: Document-oriented database concepts</li>
                    <li><strong>CRUD Operations</strong>: Creating, reading, updating, and deleting documents</li>
                    <li><strong>Transactions</strong>: Multi-document atomic operations</li>
                    <li><strong>Error Handling</strong>: Proper exception handling in MongoDB</li>
                    <li><strong>Best Practices</strong>: Performance, security, and schema design</li>
                </ul>
                
                <div class="note" style="margin-top: 20px;">
                    <h4>Final Project: Blogging Platform with MongoDB</h4>
                    <p>Create a complete blogging platform with the following features:</p>
                    <ol>
                        <li>User authentication (register, login, profile management)</li>
                        <li>CRUD operations for blog posts</li>
                        <li>Comments on blog posts</li>
                        <li>Categories and tags for posts</li>
                        <li>Search functionality</li>
                        <li>User roles (admin, author, reader)</li>
                    </ol>
                    
                    <p><strong>Database Schema:</strong></p>
                    <ul>
                        <li><code>users</code> - Store user information and credentials</li>
                        <li><code>posts</code> - Blog posts with references to authors</li>
                        <li><code>comments</code> - Comments on posts with references to users</li>
                        <li><code>categories</code> - Post categories</li>
                        <li><code>tags</code> - Post tags with many-to-many relationship</li>
                    </ul>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>Use MongoDB for data storage</li>
                        <li>Implement proper error handling and validation</li>
                        <li>Use transactions where appropriate</li>
                        <li>Implement proper indexing for performance</li>
                        <li>Include API documentation</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="btn" onclick="window.location.href='lecture-5.html'">Previous: Database Connectivity</button>
            <button class="btn" disabled>Next: Course Conclusion</button>
        </div>
    </div>

    <script>
        // Progress bar functionality
        window.onscroll = function() {
            var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            var scrolled = (winScroll / height) * 100;
            document.getElementById("progressBar").style.width = scrolled + "%";
        };

        // Add animation to sections on scroll
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = 1;
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, {
                threshold: 0.1
            });

            sections.forEach(section => {
                section.style.opacity = 0;
                section.style.transform = 'translateY(20px)';
                section.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                observer.observe(section);
            });

            // Initialize code copy functionality
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const codeBlock = this.parentElement;
                    const code = codeBlock.textContent.replace('Copy', '').trim();
                    navigator.clipboard.writeText(code).then(() => {
                        const originalText = this.textContent;
                        this.textContent = 'Copied!';
                        setTimeout(() => {
                            this.textContent = originalText;
                        }, 2000);
                    });
                });
            });
        });

        // Tab functionality
        function openTab(evt, tabId) {
            // Get all tab content elements
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // Get all tab buttons and remove active class
            const tabButtons = document.getElementsByClassName('tab');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }
            
            // Show the current tab and mark the button as active
            document.getElementById(tabId).classList.add('active');
            evt.currentTarget.classList.add('active');
        }

        // Initialize the first tab as active
        document.addEventListener('DOMContentLoaded', function() {
            const firstTab = document.querySelector('.tab');
            if (firstTab) {
                firstTab.click();
            }
        });
    </script>
</body>
</html>
