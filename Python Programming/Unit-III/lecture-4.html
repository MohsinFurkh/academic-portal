<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecture 4: Modules, Packages & Regular Expressions - Python Programming</title>
    <meta name="description" content="Introduction to Modules and Packages, Creating Modules and Packages, Standard Modules, Regular Expressions, Meta Characters">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <style>
        .code {
            background-color: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .note {
            background-color: #e7f3fe;
            border-left: 6px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
        }
        .warning {
            background-color: #fff3cd;
            border-left: 6px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background-color: #e8f5e9;
            border-left: 6px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .regex-pattern {
            font-family: monospace;
            color: #d63384;
            font-weight: bold;
        }
        .module-structure {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="../../index.html" class="logo">
                <img src="../../images/icon.jpg" alt="University Logo" style="height: 40px;">
                <div class="logo-text">
                    <span class="logo-main">Mohsin Furkh Dar</span>
                    <span class="logo-sub">PhD Candidate</span>
                </div>
            </a>
            <button class="menu-toggle" aria-label="Toggle navigation" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <ul id="mainNav">
                <li><a href="../../index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="../../index.html#courses"><i class="fas fa-book"></i> Courses</a></li>
                <li><a href="../../index.html#lecture-notes"><i class="fas fa-file-alt"></i> Lecture Notes</a></li>
                <li><a href="../../index.html#presentations"><i class="fas fa-chalkboard-teacher"></i> Presentations</a></li>
                <li><a href="../../index.html#mcqs"><i class="fas fa-question-circle"></i> MCQs</a></li>
                <li><a href="../../index.html#research"><i class="fas fa-flask"></i> Research</a></li>
                <li><a href="../../index.html#contact"><i class="fas fa-envelope"></i> Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <main>
            <section class="lecture-content">
                <h1>Lecture 4: Modules, Packages & Regular Expressions</h1>
                
                <div class="lecture-section">
                    <h2>1. Introduction to Modules</h2>
                    
                    <p>A module is a file containing Python definitions and statements. The file name is the module name with the suffix <code>.py</code>.</p>
                    
                    <h3>Creating a Simple Module</h3>
                    <div class="module-structure">
                        <strong>my_math.py</strong>
                        <div class="code">"""A simple math module with basic operations."""

def add(a, b):
    """Return the sum of a and b."""
    return a + b

def subtract(a, b):
    """Return the difference between a and b."""
    return a - b

def multiply(a, b):
    """Return the product of a and b."""
    return a * b

def divide(a, b):
    """Return the quotient of a divided by b."""
    if b == 0:
        raise ValueError("Cannot divide by zero!")
    return a / b

# This code runs when the module is executed directly
if __name__ == "__main__":
    print("Running my_math module directly")
    print(f"2 + 3 = {add(2, 3)}")
    print(f"5 - 2 = {subtract(5, 2)}")
                        </div>
                    </div>
                    
                    <h3>Using the Module</h3>
                    <div class="code">
                        # Import the entire module
                        import my_math
                        
                        # Use functions with module name prefix
                        result = my_math.add(5, 3)
                        print(f"5 + 3 = {result}")
                        
                        # Import specific functions
                        from my_math import multiply, divide
                        
                        # Use directly without module name
                        product = multiply(4, 6)
                        print(f"4 * 6 = {product}")
                        
                        # Import with alias
                        import my_math as mm
                        print(f"10 - 4 = {mm.subtract(10, 4)}")
                        
                        # Import all names (not recommended)
                        from my_math import *
                    </div>
                    
                    <div class="note">
                        <h4>Module Search Path</h4>
                        <p>When a module is imported, Python searches for it in the following order:</p>
                        <ol>
                            <li>The directory containing the input script (or the current directory)</li>
                            <li>The list of directories contained in the <code>PYTHONPATH</code> environment variable</li>
                            <li>An installation-dependent list of directories configured at Python installation time</li>
                        </ol>
                        <p>You can view the search path with:</p>
                        <div class="code">
                            import sys
                            print(sys.path)
                        </div>
                    </div>
                </div>

                <div class="lecture-section">
                    <h2>2. Creating and Using Packages</h2>
                    
                    <p>A package is a way of organizing related modules into a single directory hierarchy.</p>
                    
                    <h3>Package Structure</h3>
                    <div class="module-structure">
                        <strong>my_package/</strong>
                        <div style="margin-left: 20px;">
                            <div>__init__.py          # Makes the directory a Python package</div>
                            <div>module1.py           # Module 1</div>
                            <div>module2.py           # Module 2</div>
                            <div>subpackage/          # Subpackage</div>
                            <div style="margin-left: 20px;">
                                <div>__init__.py      # Makes subdirectory a package</div>
                                <div>module3.py       # Module in subpackage</div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>Package Initialization</h3>
                    <p>The <code>__init__.py</code> file can be empty or can contain initialization code for the package.</p>
                    
                    <div class="code">
                        # my_package/__init__.py
                        """
                        This is the my_package package.
                        It provides useful utilities for various tasks.
                        """
                        
                        # You can define what gets imported with 'from my_package import *'
                        __all__ = ['module1', 'module2']
                        
                        # Package-level variables
                        VERSION = '1.0.0'
                        
                        # You can also import functions to make them available at the package level
                        from .module1 import some_function
                        
                        print("Initializing my_package...")
                    </div>
                    
                    <h3>Using the Package</h3>
                    <div class="code">
                        # Import from the package
                        import my_package.module1
                        from my_package import module2
                        from my_package.subpackage import module3
                        
                        # Using the imported modules
                        my_package.module1.some_function()
                        module2.another_function()
                        
                        # Import specific functions
                        from my_package.module1 import specific_function
                        
                        # Using package-level imports (if defined in __init__.py)
                        from my_package import some_function
                    </div>
                </div>

                <div class="lecture-section">
                    <h2>3. Standard Library Modules</h2>
                    
                    <h3>Commonly Used Standard Modules</h3>
                    
                    <table>
                        <tr>
                            <th>Module</th>
                            <th>Description</th>
                            <th>Common Uses</th>
                        </tr>
                        <tr>
                            <td><code>sys</code></td>
                            <td>System-specific parameters and functions</td>
                            <td>Command-line arguments, interpreter settings</td>
                        </tr>
                        <tr>
                            <td><code>os</code></td>
                            <td>Operating system interfaces</td>
                            <td>File/directory operations, process management</td>
                        </tr>
                        <tr>
                            <td><code>math</code></td>
                            <td>Mathematical functions</td>
                            <td>Trigonometry, logarithms, constants</td>
                        </tr>
                        <tr>
                            <td><code>datetime</code></td>
                            <td>Date and time handling</td>
                            <td>Date arithmetic, formatting, timezones</td>
                        </tr>
                        <tr>
                            <td><code>json</code></td>
                            <td>JSON data handling</td>
                            <td>Reading/writing JSON files, parsing JSON data</td>
                        </tr>
                        <tr>
                            <td><code>re</code></td>
                            <td>Regular expressions</td>
                            <td>Pattern matching, string searching</td>
                        </tr>
                        <tr>
                            <td><code>collections</code></td>
                            <td>Specialized container datatypes</td>
                            <td>Counters, named tuples, default dictionaries</td>
                        </tr>
                        <tr>
                            <td><code>itertools</code></td>
                            <td>Functions creating iterators</td>
                            <td>Efficient looping, combinations, permutations</td>
                        </tr>
                    </table>
                    
                    <h3>Example: Using Standard Modules</h3>
                    <div class="code">
                        import os
                        import sys
                        import math
                        from datetime import datetime
                        import json
                        
                        # Using os module
                        current_dir = os.getcwd()
                        print(f"Current directory: {current_dir}")
                        
                        # Using sys module
                        print(f"Python version: {sys.version}")
                        print(f"Command line arguments: {sys.argv}")
                        
                        # Using math module
                        print(f"Square root of 16: {math.sqrt(16)}")
                        print(f"Value of pi: {math.pi}")
                        
                        # Using datetime module
                        now = datetime.now()
                        print(f"Current date and time: {now}")
                        print(f"Formatted date: {now.strftime('%Y-%m-%d %H:%M:%S')}")
                        
                        # Using json module
                        data = {
                            'name': 'John Doe',
                            'age': 30,
                            'courses': ['Math', 'Physics', 'Chemistry']
                        }
                        
                        # Convert to JSON string
                        json_str = json.dumps(data, indent=2)
                        print("JSON data:")
                        print(json_str)
                    </div>
                </div>

                <div class="lecture-section">
                    <h2>4. Introduction to Regular Expressions</h2>
                    
                    <p>Regular expressions (regex) are a powerful tool for pattern matching and manipulation of strings.</p>
                    
                    <h3>Basic Regex Patterns</h3>
                    
                    <table>
                        <tr>
                            <th>Pattern</th>
                            <th>Description</th>
                            <th>Example</th>
                            <th>Matches</th>
                        </tr>
                        <tr>
                            <td><code>.</code></td>
                            <td>Matches any character except newline</td>
                            <td><code>a.c</code></td>
                            <td>abc, aac, a1c, etc.</td>
                        </tr>
                        <tr>
                            <td><code>^</code></td>
                            <td>Start of string</td>
                            <td><code>^Hello</code></td>
                            <td>Hello world (but not Say Hello)</td>
                        </tr>
                        <tr>
                            <td><code>$</code></td>
                            <td>End of string</td>
                            <td><code>world$</code></td>
                            <td>Hello world (but not world peace)</td>
                        </tr>
                        <tr>
                            <td><code>*</code></td>
                            <td>0 or more repetitions</td>
                            <td><code>ab*c</code></td>
                            <td>ac, abc, abbc, abbbc, etc.</td>
                        </tr>
                        <tr>
                            <td><code>+</code></td>
                            <td>1 or more repetitions</td>
                            <td><code>ab+c</code></td>
                            <td>abc, abbc, abbbc, etc. (not ac)</td>
                        </tr>
                        <tr>
                            <td><code>?</code></td>
                            <td>0 or 1 repetition</td>
                            <td><code>ab?c</code></td>
                            <td>ac, abc (not abbc)</td>
                        </tr>
                        <tr>
                            <td><code>{m,n}</code></td>
                            <td>m to n repetitions</td>
                            <td><code>a{2,4}b</code></td>
                            <td>aab, aaab, aaaab</td>
                        </tr>
                        <tr>
                            <td><code>\d</code></td>
                            <td>Digit (0-9)</td>
                            <td><code>\d{3}</code></td>
                            <td>123, 456, 000, etc.</td>
                        </tr>
                        <tr>
                            <td><code>\w</code></td>
                            <td>Word character (a-z, A-Z, 0-9, _)</td>
                            <td><code>\w+</code></td>
                            <td>hello, Python3, user_name</td>
                        </tr>
                        <tr>
                            <td><code>\s</code></td>
                            <td>Whitespace (space, tab, newline)</td>
                            <td><code>\s+</code></td>
                            <td>, 	, 
</td>
                        </tr>
                        <tr>
                            <td><code>[abc]</code></td>
                            <td>Any of a, b, or c</td>
                            <td><code>[aeiou]</code></td>
                            <td>a, e, i, o, u</td>
                        </tr>
                        <tr>
                            <td><code>[^abc]</code></td>
                            <td>Not a, b, or c</td>
                            <td><code>[^0-9]</code></td>
                            <td>a, b, !, @, etc. (not digits)</td>
                        </tr>
                        <tr>
                            <td><code>|</code></td>
                            <td>OR operator</td>
                            <td><code>cat|dog</code></td>
                            <td>cat or dog</td>
                        </tr>
                        <tr>
                            <td><code>()</code></td>
                            <td>Grouping</td>
                            <td><code>(ab)+</code></td>
                            <td>ab, abab, ababab, etc.</td>
                        </tr>
                    </table>
                </div>

                <div class="lecture-section">
                    <h2>5. Using the <code>re</code> Module</h2>
                    
                    <h3>Common <code>re</code> Functions</h3>
                    
                    <table>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                        <tr>
                            <td><code>re.search()</code></td>
                            <td>Search for a pattern anywhere in the string</td>
                            <td><code>re.search(r'\d+', 'abc123')</code></td>
                        </tr>
                        <tr>
                            <td><code>re.match()</code></td>
                            <td>Match pattern at the beginning of the string</td>
                            <td><code>re.match(r'\d+', '123abc')</code></td>
                        </tr>
                        <tr>
                            <td><code>re.findall()</code></td>
                            <td>Find all non-overlapping matches</td>
                            <td><code>re.findall(r'\d+', 'a1b22c333')</code></td>
                        </tr>
                        <tr>
                            <td><code>re.finditer()</code></td>
                            <td>Return an iterator yielding match objects</td>
                            <td><code>for m in re.finditer(r'\d+', 'a1b22c333'):</code></td>
                        </tr>
                        <tr>
                            <td><code>re.sub()</code></td>
                            <td>Replace occurrences of a pattern</td>
                            <td><code>re.sub(r'\d', '#', 'a1b2c3')</code></td>
                        </tr>
                        <tr>
                            <td><code>re.split()</code></td>
                            <td>Split string by pattern</td>
                            <td><code>re.split(r'\s+', 'split on   whitespace')</code></td>
                        </tr>
                        <tr>
                            <td><code>re.compile()</code></td>
                            <td>Compile a regex pattern for reuse</td>
                            <td><code>pattern = re.compile(r'\d{3}-\d{2}-\d{4}')</code></td>
                        </tr>
                    </table>
                    
                    <h3>Regex Examples</h3>
                    
                    <div class="code">
                        import re
                        
                        # Example 1: Simple search
                        text = "The quick brown fox jumps over the lazy dog."
                        match = re.search(r'fox', text)
                        if match:
                            print(f"Found 'fox' at position {match.start()}-{match.end()}")
                        
                        # Example 2: Find all email addresses
                        text = "Contact us at support@example.com or sales@company.org"
                        emails = re.findall(r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b', text)
                        print(f"Found emails: {emails}")
                        
                        # Example 3: Extract dates in format YYYY-MM-DD
                        text = "Events on 2023-10-15 and 2023-11-20"
                        dates = re.findall(r'\b\d{4}-\d{2}-\d{2}\b', text)
                        print(f"Found dates: {dates}")
                        
                        # Example 4: Replace phone numbers
                        text = "Call 555-123-4567 or 800-555-0000"
                        masked = re.sub(r'\b\d{3}-\d{3}-\d{4}\b', 'XXX-XXX-XXXX', text)
                        print(f"Masked text: {masked}")
                        
                        # Example 5: Using groups for extraction
                        text = "Name: John Doe, Age: 30, City: New York"
                        pattern = r'Name: (\w+ \w+), Age: (\d+), City: (\w+ \w+)'
                        match = re.search(pattern, text)
                        if match:
                            name, age, city = match.groups()
                            print(f"Name: {name}, Age: {age}, City: {city}")
                        
                        # Example 6: Case-insensitive search
                        text = "Python is awesome! PYTHON is great! python is fun!"
                        matches = re.findall(r'python', text, re.IGNORECASE)
                        print(f"Found 'python' {len(matches)} times (case-insensitive)")
                    </div>
                </div>

                <div class="lecture-section">
                    <h2>6. Practical Example: Log File Analysis</h2>
                    
                    <p>Let's create a script that analyzes a web server log file using regular expressions.</p>
                    
                    <div class="code">
                        import re
                        from collections import defaultdict
                        from datetime import datetime
                        
                        def analyze_log_file(log_file):
                            """Analyze a web server log file and extract useful information."""
                            
                            # Common log format: 127.0.0.1 - - [10/Oct/2023:13:55:36 +0000] "GET / HTTP/1.1" 200 612
                            log_pattern = r'''(?P<remote_addr>\d+\.\d+\.\d+\.\d+)\s+  # IP address
                                           [^\[\]]+\s+                                # Remote user (ignored)
                                           \[([^\]]+)\]\s+                           # Timestamp
                                           "(?:\w+\s+)?(?P<url>[^\s"]+)\s+[^"]*"\s+  # Request URL
                                           (?P<status>\d{3})\s+                       # Status code
                                           (?P<size>\d+|-)\s*                         # Response size
                                        '''
                            
                            # Compile the regex with verbose flag for comments
                            log_regex = re.compile(log_pattern, re.VERBOSE)
                            
                            # Store statistics
                            stats = {
                                'total_requests': 0,
                                'status_codes': defaultdict(int),
                                'popular_pages': defaultdict(int),
                                'requests_by_hour': defaultdict(int),
                                'unique_ips': set(),
                                'total_bytes': 0
                            }
                            
                            # Process each line in the log file
                            with open(log_file, 'r') as f:
                                for line in f:
                                    match = log_regex.search(line)
                                    if not match:
                                        continue
                                    
                                    stats['total_requests'] += 1
                                    
                                    # Extract data from the match
                                    ip = match.group('remote_addr')
                                    timestamp_str = match.group(2)  # Group 2 is the timestamp
                                    url = match.group('url')
                                    status = match.group('status')
                                    size = match.group('size')
                                    
                                    # Update statistics
                                    stats['status_codes'][status] += 1
                                    stats['popular_pages'][url] += 1
                                    stats['unique_ips'].add(ip)
                                    
                                    # Parse timestamp to get hour
                                    try:
                                        # Handle different timestamp formats if needed
                                        timestamp = datetime.strptime(timestamp_str, '%d/%b/%Y:%H:%M:%S %z')
                                        hour = timestamp.strftime('%Y-%m-%d %H:00')
                                        stats['requests_by_hour'][hour] += 1
                                    except ValueError:
                                        pass  # Ignore timestamp parsing errors
                                    
                                    # Add response size to total
                                    if size != '-':
                                        stats['total_bytes'] += int(size)
                            
                            # Generate report
                            print(f"Log Analysis Report")
                            print("=" * 80)
                            print(f"Total requests: {stats['total_requests']}")
                            print(f"Total data transferred: {stats['total_bytes'] / (1024*1024):.2f} MB")
                            print(f"Unique IP addresses: {len(stats['unique_ips'])}")
                            
                            print("\nStatus Code Distribution:")
                            for code, count in sorted(stats['status_codes'].items()):
                                print(f"  {code}: {count} requests")
                            
                            print("\nTop 5 Most Popular Pages:")
                            for url, count in sorted(stats['popular_pages'].items(), 
                                                   key=lambda x: x[1], reverse=True)[:5]:
                                print(f"  {url}: {count} requests")
                            
                            print("\nRequests by Hour:")
                            for hour, count in sorted(stats['requests_by_hour'].items()):
                                print(f"  {hour}: {count} requests")
                        
                        # Example usage
                        if __name__ == "__main__":
                            log_file = "access.log"  # Replace with your log file path
                            try:
                                analyze_log_file(log_file)
                            except FileNotFoundError:
                                print(f"Error: Log file '{log_file}' not found.")
                            except Exception as e:
                                print(f"An error occurred: {e}")
                    </div>
                </div>
            </section>

            <div class="lecture-navigation">
                <a href="lecture-3.html" class="btn-prev"><i class="fas fa-arrow-left"></i> Previous</a>
                <a href="../Unit-IV/lecture-1.html" class="btn-next">Next <i class="fas fa-arrow-right"></i></a>
            </div>
        </main>
    </div>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../index.html#courses">Courses</a></li>
                    <li><a href="../../index.html#lecture-notes">Lecture Notes</a></li>
                    <li><a href="../../index.html#presentations">Presentations</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Connect</h4>
                <div class="social-links">
                    <a href="https://scholar.google.com" target="_blank" aria-label="Google Scholar"><i class="fab fa-google scholar-icon"></i></a>
                    <a href="https://linkedin.com" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://github.com" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Dr. Mohsin Furkh Dar. All rights reserved.</p>
        </div>
    </footer>

    <script src="../../js/script.js"></script>
</body>
</html>
