<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit-V: Constructors & Special Methods in Python</title>
    <style>
        /* [Previous CSS remains the same] */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: #333; line-height: 1.6; }
        .lecture-container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: rgba(255,255,255,0.95); padding: 30px; border-radius: 15px; text-align: center; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .header h1 { color: #2a5298; margin-bottom: 10px; }
        .header p { color: #666; font-size: 1.1em; }
        .section { background: white; border-radius: 15px; padding: 25px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .section-header { font-size: 1.5em; color: #1e3c72; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #f0f0f0; }
        .code-block { background: #f8f9fa; border-left: 4px solid #1e3c72; padding: 15px; margin: 15px 0; font-family: 'Courier New', monospace; overflow-x: auto; position: relative; }
        .copy-btn { position: absolute; top: 5px; right: 5px; background: #e0e0e0; border: none; border-radius: 3px; padding: 2px 5px; cursor: pointer; }
        .note { background: #e7f4ff; border-left: 4px solid #1e88e5; padding: 15px; margin: 15px 0; border-radius: 0 5px 5px 0; }
        .warning { background: #fff3e0; border-left: 4px solid #ff9800; padding: 15px; margin: 15px 0; border-radius: 0 5px 5px 0; }
        .navigation { display: flex; justify-content: space-between; margin-top: 30px; }
        .btn { background: #1e3c72; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; text-decoration: none; display: inline-block; margin: 5px; }
        .btn:hover { background: #2a5298; }
        @media (max-width: 768px) { .lecture-container { padding: 10px; } .header { padding: 20px 15px; } .section { padding: 15px; } }
    </style>
</head>
<body>
    <div class="lecture-container">
        <div class="header">
            <h1>üîß Unit-V: Advanced OOP in Python</h1>
            <p>Lecture 2: Constructors, Special Methods, and Class Attributes</p>
        </div>

        <!-- Constructors -->
        <div class="section">
            <div class="section-header">1. Constructors in Python</div>
            <div class="section-content">
                <p>Constructors are special methods that are automatically called when an object is created.</p>
                
                <h4>1.1 The <code>__init__</code> Method</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class Person:
                        def __init__(self, name, age):
                            self.name = name
                            self.age = age
                            print(f"{name} created!")
                    
                    p = Person("Alice", 30)  # Alice created!
                </div>

                <h4>1.2 The <code>__new__</code> Method</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class Singleton:
                        _instance = None
                        
                        def __new__(cls):
                            if cls._instance is None:
                                cls._instance = super().__new__(cls)
                            return cls._instance
                        
                    s1 = Singleton()
                    s2 = Singleton()
                    print(s1 is s2)  # True
                </div>
            </div>
        </div>

        <!-- Special Methods -->
        <div class="section">
            <div class="section-header">2. Special Methods</div>
            <div class="section-content">
                <p>Special methods (dunder methods) allow operator overloading and other functionality.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class Vector:
                        def __init__(self, x, y):
                            self.x = x
                            self.y = y
                        
                        def __add__(self, other):
                            return Vector(self.x + other.x, self.y + other.y)
                        
                        def __str__(self):
                            return f"Vector({self.x}, {self.y})"
                        
                        def __len__(self):
                            return 2  # Always 2D vector
                    
                    v1 = Vector(2, 4)
                    v2 = Vector(1, 3)
                    print(v1 + v2)  # Vector(3, 7)
                </div>

                <div class="note">
                    <strong>Common Special Methods:</strong>
                    <ul>
                        <li><code>__str__</code>: String representation (str(obj))</li>
                        <li><code>__repr__</code>: Official string representation (repr(obj))</li>
                        <li><code>__len__</code>: Length of object (len(obj))</li>
                        <li><code>__getitem__</code>, <code>__setitem__</code>: Indexing (obj[key])</li>
                        <li><code>__call__</code>: Call as function (obj())</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Class and Instance Variables -->
        <div class="section">
            <div class="section-header">3. Class and Instance Variables</div>
            <div class="section-content">
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class Employee:
                        # Class variable
                        raise_amount = 1.04
                        
                        def __init__(self, name, pay):
                            # Instance variables
                            self.name = name
                            self.pay = pay
                    
                    emp1 = Employee("John", 50000)
                    emp2 = Employee("Jane", 60000)
                    
                    # Access class variable
                    print(emp1.raise_amount)  # 1.04
                    
                    # Change class variable (affects all instances)
                    Employee.raise_amount = 1.05
                    print(emp2.raise_amount)  # 1.05
                </div>
            </div>
        </div>

        <!-- Public and Private Members -->
        <div class="section">
            <div class="section-header">4. Public and Private Members</div>
            <div class="section-content">
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class BankAccount:
                        def __init__(self, owner, balance=0):
                            self.owner = owner
                            self._balance = balance  # Protected (convention)
                            self.__transaction_history = []  # Private (name mangling)
                        
                        def deposit(self, amount):
                            self._balance += amount
                            self.__add_transaction(f"Deposit: +{amount}")
                        
                        def __add_transaction(self, message):
                            self.__transaction_history.append(message)
                    
                    acc = BankAccount("Alice", 1000)
                    print(acc._balance)  # Accessible but not recommended
                    # print(acc.__transaction_history)  # Error
                </div>
            </div>
        </div>

        <!-- Built-in Class Attributes -->
        <div class="section">
            <div class="section-header">5. Built-in Class Attributes</div>
            <div class="section-content">
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class Example:
                        """Example class with built-in attributes."""
                        
                        def __init__(self):
                            self.value = 42
                    
                    obj = Example()
                    
                    # Common built-in attributes
                    print(Example.__name__)     # 'Example'
                    print(Example.__doc__)      # 'Example class with built-in attributes.'
                    print(obj.__dict__)         # {'value': 42}
                    print(Example.__module__)   # '__main__'
                    print(Example.__bases__)    # (<class 'object'>,)
                </div>
            </div>
        </div>

        <!-- Practice Exercise -->
        <div class="section">
            <div class="section-header">6. Practice Exercise</div>
            <div class="section-content">
                <h4>Task: Create a Fraction Class</h4>
                <p>Implement a <code>Fraction</code> class that supports basic arithmetic operations.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    # Your implementation here
                    class Fraction:
                        def __init__(self, numerator, denominator=1):
                            # Add your code here
                            pass
                        
                        # Add special methods for +, -, *, /, ==, <, >, str, repr
                    
                    # Test cases
                    f1 = Fraction(1, 2)
                    f2 = Fraction(3, 4)
                    print(f1 + f2)  # Should print 5/4
                    print(f1 * f2)  # Should print 3/8
                    print(f1 == Fraction(2, 4))  # True
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <a href="lecture-1.html" class="btn">‚Üê Previous: OOP Basics</a>
            <a href="lecture-3.html" class="btn">Next: Inheritance ‚Üí</a>
        </div>
    </div>

    <script>
        // Copy code button functionality
        function copyCode(button) {
            const codeBlock = button.parentElement;
            const code = codeBlock.textContent.replace('Copy', '').trim();
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }

        // Tab functionality
        function openTab(evt, tabName) {
            const tabContents = document.getElementsByClassName('tab-content');
            const tabs = document.getElementsByClassName('tab');
            
            // Hide all tab content
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].style.display = 'none';
                tabs[i].classList.remove('active');
            }
            
            // Show the current tab and mark button as active
            document.getElementById(tabName).style.display = 'block';
            evt.currentTarget.classList.add('active');
        }

        // Initialize first tab as active
        document.addEventListener('DOMContentLoaded', function() {
            const firstTab = document.querySelector('.tab');
            if (firstTab) firstTab.click();
        });
    </script>
</body>
</html>
