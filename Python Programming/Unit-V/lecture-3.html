<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit-V: Inheritance & Abstract Classes in Python</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: #333; line-height: 1.6; }
        .lecture-container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: rgba(255,255,255,0.95); padding: 30px; border-radius: 15px; text-align: center; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .header h1 { color: #2a5298; margin-bottom: 10px; }
        .header p { color: #666; font-size: 1.1em; }
        .section { background: white; border-radius: 15px; padding: 25px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .section-header { font-size: 1.5em; color: #1e3c72; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #f0f0f0; }
        .code-block { background: #f8f9fa; border-left: 4px solid #1e3c72; padding: 15px; margin: 15px 0; font-family: 'Courier New', monospace; overflow-x: auto; position: relative; }
        .copy-btn { position: absolute; top: 5px; right: 5px; background: #e0e0e0; border: none; border-radius: 3px; padding: 2px 5px; cursor: pointer; }
        .note { background: #e7f4ff; border-left: 4px solid #1e88e5; padding: 15px; margin: 15px 0; border-radius: 0 5px 5px 0; }
        .warning { background: #fff3e0; border-left: 4px solid #ff9800; padding: 15px; margin: 15px 0; border-radius: 0 5px 5px 0; }
        .success { background: #e8f5e9; border-left: 4px solid #4caf50; padding: 15px; margin: 15px 0; border-radius: 0 5px 5px 0; }
        .navigation { display: flex; justify-content: space-between; margin-top: 30px; }
        .btn { background: #1e3c72; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; text-decoration: none; display: inline-block; margin: 5px; }
        .btn:hover { background: #2a5298; }
        .btn-secondary { background: #6c757d; }
        .btn-warning { background: #ffc107; color: #212529; }
        .tabs { display: flex; margin-bottom: -1px; flex-wrap: wrap; }
        .tab { padding: 10px 15px; background: #f1f1f1; border: 1px solid #ddd; border-bottom: none; cursor: pointer; border-radius: 5px 5px 0 0; margin-right: 5px; margin-bottom: 5px; }
        .tab.active { background: white; border-bottom: 1px solid white; }
        .tab-content { display: none; padding: 15px; border: 1px solid #ddd; border-radius: 0 0 5px 5px; background: white; margin-bottom: 20px; }
        .tab-content.active { display: block; }
        .method-table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        .method-table th, .method-table td { border: 1px solid #dee2e6; padding: 12px; text-align: left; }
        .method-table th { background-color: #f8f9fa; font-weight: 600; }
        .method-table tr:nth-child(even) { background-color: #f9f9f9; }
        .method-table code { background: #f1f1f1; padding: 2px 5px; border-radius: 3px; font-family: 'Courier New', monospace; }
        @media (max-width: 768px) { 
            .lecture-container { padding: 10px; } 
            .header { padding: 20px 15px; } 
            .section { padding: 15px; }
            .tabs { flex-direction: column; }
            .tab { border-radius: 0; margin-right: 0; border-bottom: 1px solid #ddd; width: 100%; text-align: left; }
            .tab:first-child { border-radius: 5px 5px 0 0; }
            .tab.active { border-bottom: 1px solid white; }
            .method-table { display: block; overflow-x: auto; white-space: nowrap; }
        }
    </style>
</head>
<body>
    <div class="lecture-container">
        <!-- Header Section -->
        <div class="header">
            <h1>üß¨ Unit-V: Advanced OOP in Python</h1>
            <p>Lecture 3: Inheritance, Abstract Classes & Garbage Collection</p>
        </div>

        <!-- Inheritance -->
        <div class="section">
            <div class="section-header">1. Inheritance in Python</div>
            <div class="section-content">
                <p>Inheritance allows us to define a class that inherits all the methods and properties from another class.</p>
                
                <h4>1.1 Basic Inheritance</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    # Parent/Base class
                    class Animal:
                        def __init__(self, name):
                            self.name = name
                        
                        def speak(self):
                            return f"{self.name} makes a sound"
                    
                    # Child/Derived class
                    class Dog(Animal):
                        def speak(self):
                            return f"{self.name} says Woof!"
                        
                        def wag_tail(self):
                            return f"{self.name} is wagging its tail"
                    
                    # Create instances
                    animal = Animal("Generic Animal")
                    dog = Dog("Buddy")
                    
                    print(animal.speak())  # Generic Animal makes a sound
                    print(dog.speak())     # Buddy says Woof!
                    print(dog.wag_tail())  # Buddy is wagging its tail
                </div>

                <h4>1.2 The <code>super()</code> Function</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class Cat(Animal):
                        def __init__(self, name, color):
                            super().__init__(name)  # Call parent's __init__
                            self.color = color
                        
                        def speak(self):
                            return f"{self.name} (a {self.color} cat) says Meow!"
                    
                    cat = Cat("Whiskers", "black")
                    print(cat.speak())  # Whiskers (a black cat) says Meow!
                </div>

                <div class="note">
                    <strong>Note:</strong> Always use <code>super()</code> to call parent class methods rather than hardcoding the parent class name. This makes your code more maintainable, especially with multiple inheritance.
                </div>
            </div>
        </div>

        <!-- Types of Inheritance -->
        <div class="section">
            <div class="section-header">2. Types of Inheritance</div>
            <div class="section-content">
                <div class="tabs">
                    <div class="tab active" onclick="openTab(event, 'single')">Single</div>
                    <div class="tab" onclick="openTab(event, 'multi-level')">Multi-level</div>
                    <div class="tab" onclick="openTab(event, 'hierarchical')">Hierarchical</div>
                    <div class="tab" onclick="openTab(event, 'multiple')">Multiple</div>
                </div>

                <div id="single" class="tab-content active">
                    <h5>Single Inheritance</h5>
                    <p>A class inherits from a single parent class.</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        class Parent:
                            def parent_method(self):
                                return "Parent method"
                        
                        class Child(Parent):
                            def child_method(self):
                                return "Child method"
                        
                        child = Child()
                        print(child.parent_method())  # Parent method
                        print(child.child_method())   # Child method
                    </div>
                </div>

                <div id="multi-level" class="tab-content">
                    <h5>Multi-level Inheritance</h5>
                    <p>A class inherits from a child class.</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        class GrandParent:
                            def grandparent_method(self):
                                return "Grandparent method"
                        
                        class Parent(GrandParent):
                            def parent_method(self):
                                return "Parent method"
                        
                        class Child(Parent):
                            def child_method(self):
                                return "Child method"
                        
                        child = Child()
                        print(child.grandparent_method())  # Grandparent method
                        print(child.parent_method())       # Parent method
                        print(child.child_method())        # Child method
                    </div>
                </div>

                <div id="hierarchical" class="tab-content">
                    <h5>Hierarchical Inheritance</h5>
                    <p>Multiple classes inherit from a single parent class.</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        class Animal:
                            def __init__(self, name):
                                self.name = name
                        
                        class Dog(Animal):
                            def speak(self):
                                return f"{self.name} says Woof!"
                        
                        class Cat(Animal):
                            def speak(self):
                                return f"{self.name} says Meow!"
                        
                        dog = Dog("Buddy")
                        cat = Cat("Whiskers")
                        
                        print(dog.speak())  # Buddy says Woof!
                        print(cat.speak())  # Whiskers says Meow!
                    </div>
                </div>

                <div id="multiple" class="tab-content">
                    <h5>Multiple Inheritance</h5>
                    <p>A class inherits from multiple parent classes.</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        class Flyable:
                            def fly(self):
                                return f"{self.name} is flying"
                        
                        class Swimmable:
                            def swim(self):
                                return f"{self.name} is swimming"
                        
                        class Duck:
                            def __init__(self, name):
                                self.name = name
                            
                            def quack(self):
                                return f"{self.name} says Quack!"
                        
                        class FlyingDuck(Duck, Flyable, Swimmable):
                            pass
                        
                        donald = FlyingDuck("Donald")
                        print(donald.quack())  # Donald says Quack!
                        print(donald.fly())    # Donald is flying
                        print(donald.swim())   # Donald is swimming
                    </div>
                    
                    <div class="warning">
                        <strong>Method Resolution Order (MRO):</strong> Python uses the C3 linearization algorithm to determine the order in which to search for methods in the inheritance hierarchy. You can check the MRO using <code>ClassName.__mro__</code> or <code>ClassName.mro()</code>.
                    </div>
                </div>
            </div>
        </div>

        <!-- Abstract Base Classes -->
        <div class="section">
            <div class="section-header">3. Abstract Base Classes (ABC)</div>
            <div class="section-content">
                <p>Abstract classes are classes that contain one or more abstract methods. An abstract method is a method that is declared but contains no implementation.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    from abc import ABC, abstractmethod

                    class Shape(ABC):
                        @abstractmethod
                        def area(self):
                            pass
                        
                        @abstractmethod
                        def perimeter(self):
                            pass
                        
                        # Can have concrete methods too
                        def description(self):
                            return "This is a shape"
                    
                    class Rectangle(Shape):
                        def __init__(self, width, height):
                            self.width = width
                            self.height = height
                        
                        def area(self):
                            return self.width * self.height
                        
                        def perimeter(self):
                            return 2 * (self.width + self.height)
                        
                        # Override the concrete method
                        def description(self):
                            return f"Rectangle with width {self.width} and height {self.height}"
                    
                    # This will raise an error because abstract methods aren't implemented
                    # shape = Shape()  # TypeError: Can't instantiate abstract class Shape
                    
                    rect = Rectangle(4, 5)
                    print(f"Area: {rect.area()}")            # Area: 20
                    print(f"Perimeter: {rect.perimeter()}")   # Perimeter: 18
                    print(rect.description())                 # Rectangle with width 4 and height 5
                </div>

                <div class="note">
                    <strong>Key Points about ABCs:</strong>
                    <ul>
                        <li>Abstract classes cannot be instantiated directly</li>
                        <li>Subclasses must implement all abstract methods</li>
                        <li>Abstract classes can have concrete methods with implementation</li>
                        <li>Useful for defining a common interface for subclasses</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Garbage Collection -->
        <div class="section">
            <div class="section-header">4. Garbage Collection in Python</div>
            <div class="section-content">
                <p>Python's garbage collector automatically frees memory when objects are no longer in use.</p>
                
                <h4>4.1 Reference Counting</h4>
                <p>Python uses reference counting to track the number of references to an object.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    import sys
                    
                    a = []
                    print(sys.getrefcount(a))  # 2 (one for 'a' and one for the argument)
                    
                    b = a
                    print(sys.getrefcount(a))  # 3 (now referenced by 'b' too)
                    
                    del b
                    print(sys.getrefcount(a))  # Back to 2
                    
                    # When reference count reaches 0, the object is deleted
                    del a  # Reference count drops to 0, object is garbage collected
                </div>

                <h4>4.2 Circular References</h4>
                <p>Reference counting alone can't handle circular references. Python's garbage collector can detect and clean these up.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    import gc
                    
                    class Node:
                        def __init__(self, name):
                            self.name = name
                            self.next = None
                        
                        def __del__(self):
                            print(f"Deleting {self.name}")
                    
                    # Create circular reference
                    node1 = Node("Node 1")
                    node2 = Node("Node 2")
                    node1.next = node2
                    node2.next = node1  # Circular reference
                    
                    # Delete references
                    del node1
                    del node2
                    
                    # Force garbage collection
                    print("Collecting garbage...")
                    gc.collect()  # Will detect and clean up the circular reference
                    print("Garbage collection complete")
                </div>

                <h4>4.3 <code>__del__</code> Method</h4>
                <p>The <code>__del__</code> method is called when an object is about to be destroyed.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    class Resource:
                        def __init__(self, name):
                            self.name = name
                            print(f"Resource {self.name} created")
                        
                        def __del__(self):
                            # Not guaranteed to be called in all cases
                            print(f"Resource {self.name} is being deleted")
                        
                        def use(self):
                            print(f"Using resource {self.name}")
                    
                    def process():
                        res = Resource("Temporary")
                        res.use()
                        # res is automatically deleted when the function ends
                    
                    process()
                    # Output:
                    # Resource Temporary created
                    # Using resource Temporary
                    # Resource Temporary is being deleted
                </div>

                <div class="warning">
                    <strong>Important:</strong> The <code>__del__</code> method is not guaranteed to be called in all cases. For cleanup, use context managers (<code>with</code> statement) or the <code>try/finally</code> pattern instead.
                </div>
            </div>
        </div>

        <!-- Practice Exercise -->
        <div class="section">
            <div class="section-header">5. Practice Exercise</div>
            <div class="section-content">
                <h4>Task: Create a Shape Hierarchy</h4>
                <p>Implement a hierarchy of shape classes using abstract base classes and inheritance.</p>
                
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    from abc import ABC, abstractmethod
                    import math
                    
                    # Your implementation here
                    class Shape(ABC):
                        @abstractmethod
                        def area(self):
                            pass
                            
                        @abstractmethod
                        def perimeter(self):
                            pass
                    
                    # Implement Circle and Rectangle classes that inherit from Shape
                    
                    # Test your implementation
                    if __name__ == "__main__":
                        # shapes = [Circle(5), Rectangle(4, 5)]
                        # for shape in shapes:
                        #     print(f"{shape.__class__.__name__} - Area: {shape.area()}, Perimeter: {shape.perimeter()}")
                        pass
                </div>
                
                <h5>Requirements:</h5>
                <ol>
                    <li>Create an abstract <code>Shape</code> class with abstract methods <code>area()</code> and <code>perimeter()</code></li>
                    <li>Implement <code>Circle</code> and <code>Rectangle</code> classes that inherit from <code>Shape</code></li>
                    <li>Add appropriate attributes to each class (e.g., radius for Circle, width/height for Rectangle)</li>
                    <li>Implement the required methods for each class</li>
                    <li>Add a <code>__str__</code> method to each class for better string representation</li>
                    <li>Test your implementation with different shapes and print their areas and perimeters</li>
                </ol>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <a href="lecture-2.html" class="btn">‚Üê Previous: Constructors & Special Methods</a>
            <a href="lecture-4.html" class="btn">Next: Polymorphism ‚Üí</a>
        </div>
    </div>

    <script>
        // Copy code button functionality
        function copyCode(button) {
            const codeBlock = button.parentElement;
            const code = codeBlock.textContent.replace('Copy', '').trim();
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }

        // Tab functionality
        function openTab(evt, tabName) {
            const tabContents = document.getElementsByClassName('tab-content');
            const tabs = document.getElementsByClassName('tab');
            
            // Hide all tab content
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].style.display = 'none';
                tabs[i].classList.remove('active');
            }
            
            // Show the current tab and mark button as active
            document.getElementById(tabName).style.display = 'block';
            evt.currentTarget.classList.add('active');
        }

        // Initialize first tab as active
        document.addEventListener('DOMContentLoaded', function() {
            const firstTab = document.querySelector('.tab');
            if (firstTab) firstTab.click();
        });
    </script>
</body>
</html>
