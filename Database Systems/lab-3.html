<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Systems - Lab 3: DDL and DML Commands with Key Constraints</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
        }
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 280px;
            padding: 20px;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
            overflow-y: auto;
        }
        .main-content {
            margin-left: 300px;
            padding: 30px;
        }
        .nav-link {
            color: #495057;
            border-radius: 4px;
            margin: 2px 0;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #e9ecef;
            color: #0d6efd;
        }
        pre {
            border-radius: 6px;
            padding: 15px !important;
            background-color: #282c34 !important;
        }
        .card {
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .card-header {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        .sql-keyword {
            color: #c678dd;
        }
        .sql-string {
            color: #98c379;
        }
        .sql-comment {
            color: #5c6370;
            font-style: italic;
        }
        .sql-function {
            color: #61afef;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h4 class="mb-4">Database Systems</h4>
        <h6>Lab 3: DDL and DML Commands</h6>
        <hr>
        <ul class="nav flex-column" id="sidebarNav">
            <li class="nav-item">
                <a class="nav-link active" href="#introduction">Introduction</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#objectives">Objectives</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#theory">Theory Overview</a>
                <ul class="nav flex-column ms-3">
                    <li class="nav-item">
                        <a class="nav-link" href="#ddl-commands">DDL Commands</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#dml-commands">DML Commands</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#constraints">Key Constraints</a>
                    </li>
                </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#procedure">Lab Procedure</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#queries">Sample Queries</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#conclusion">Conclusion</a>
            </li>
        </ul>
    </div>

    <div class="main-content">
        <div class="container">
            <h1 class="mb-4" id="introduction">Lab 3: DDL and DML Commands with Key Constraints</h1>
            
            <div class="card" id="objectives">
                <div class="card-header">Objectives</div>
                <div class="card-body">
                    <p>In this lab, you will learn to:</p>
                    <ul>
                        <li>Design and create database tables using DDL commands</li>
                        <li>Insert, update, and delete data using DML commands</li>
                        <li>Implement and test various database constraints (Primary Key, Foreign Key, UNIQUE, CHECK)</li>
                        <li>Understand referential integrity and cascading operations</li>
                        <li>Write and execute SQL queries to retrieve and analyze data</li>
                    </ul>
                </div>
            </div>

            <div class="card" id="theory">
                <div class="card-header">Theory Overview</div>
                <div class="card-body">
                    <h5 id="ddl-commands" class="mt-3">DDL (Data Definition Language) Commands</h5>
                    <p>DDL commands are used to define and modify database structure:</p>
                    <ul>
                        <li><strong>CREATE</strong>: Creates database objects (tables, indexes, views)</li>
                        <li><strong>ALTER</strong>: Modifies existing database objects</li>
                        <li><strong>DROP</strong>: Deletes database objects</li>
                        <li><strong>TRUNCATE</strong>: Removes all data from a table</li>
                    </ul>

                    <h5 id="dml-commands" class="mt-4">DML (Data Manipulation Language) Commands</h5>
                    <p>DML commands are used to manipulate data within database objects:</p>
                    <ul>
                        <li><strong>INSERT</strong>: Adds new records to a table</li>
                        <li><strong>UPDATE</strong>: Modifies existing records</li>
                        <li><strong>DELETE</strong>: Removes records from a table</li>
                        <li><strong>SELECT</strong>: Retrieves data from tables</li>
                    </ul>

                    <h5 id="constraints" class="mt-4">Key Constraints</h5>
                    <ul>
                        <li><strong>Primary Key</strong>: Uniquely identifies each record in a table</li>
                        <li><strong>Foreign Key</strong>: Establishes relationships between tables and maintains referential integrity</li>
                        <li><strong>UNIQUE</strong>: Ensures all values in a column are different</li>
                        <li><strong>CHECK</strong>: Ensures values in a column meet specific conditions</li>
                        <li><strong>NOT NULL</strong>: Ensures a column cannot have NULL values</li>
                    </ul>
                </div>
            </div>

            <div class="card" id="procedure">
                <div class="card-header">Lab Procedure</div>
                <div class="card-body">
                    <h5>Step 1: Database Schema Design</h5>
                    <p>Design a simple university management system with the following entities:</p>
                    <ul>
                        <li><strong>Students</strong>: Information about students</li>
                        <li><strong>Courses</strong>: Information about courses</li>
                        <li><strong>Enrollments</strong>: Student course registrations</li>
                    </ul>

                    <h5 class="mt-4">Step 2: Create Database and Tables (DDL Commands)</h5>
                    <pre><code class="language-sql">-- Create database
CREATE DATABASE university_db;
USE university_db;

-- Create Students table
CREATE TABLE Students (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    date_of_birth DATE,
    enrollment_date DATE DEFAULT (CURDATE())
);

-- Create Courses table
CREATE TABLE Courses (
    course_id INT PRIMARY KEY AUTO_INCREMENT,
    course_code VARCHAR(10) UNIQUE NOT NULL,
    course_name VARCHAR(100) NOT NULL,
    credits INT CHECK (credits > 0),
    department VARCHAR(50)
);

-- Create Enrollments table with foreign key constraints
CREATE TABLE Enrollments (
    enrollment_id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT,
    course_id INT,
    enrollment_date DATE DEFAULT (CURDATE()),
    grade CHAR(2),
    FOREIGN KEY (student_id) REFERENCES Students(student_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (course_id) REFERENCES Courses(course_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
    UNIQUE(student_id, course_id)
);</code></pre>

                    <h5 class="mt-4">Step 3: Insert Sample Data</h5>
                    <pre><code class="language-sql">-- Insert data into Students table
INSERT INTO Students (first_name, last_name, email, date_of_birth) VALUES
('John', 'Doe', 'john.doe@university.edu', '2000-05-15'),
('Jane', 'Smith', 'jane.smith@university.edu', '2001-03-22'),
('Mike', 'Johnson', 'mike.johnson@university.edu', '1999-11-08'),
('Sarah', 'Williams', 'sarah.williams@university.edu', '2000-09-12');

-- Insert data into Courses table
INSERT INTO Courses (course_code, course_name, credits, department) VALUES
('CS101', 'Introduction to Computer Science', 3, 'Computer Science'),
('MATH201', 'Calculus II', 4, 'Mathematics'),
('ENG102', 'English Composition', 3, 'English'),
('PHYS101', 'General Physics', 4, 'Physics');

-- Insert data into Enrollments table
INSERT INTO Enrollments (student_id, course_id, grade) VALUES
(1, 1, 'A'),
(1, 2, 'B+'),
(2, 1, 'A-'),
(2, 3, 'B'),
(3, 2, 'C+'),
(3, 4, 'B-'),
(4, 1, 'A'),
(4, 3, 'A-');</code></pre>

                    <h5 class="mt-4">Step 4: Test Constraint Violations</h5>
                    <p>Test the following constraint violations in your database:</p>
                    
                    <div class="alert alert-warning">
                        <strong>Primary Key Constraint:</strong>
                        <pre><code class="language-sql">-- This should fail - duplicate primary key
INSERT INTO Students (student_id, first_name, last_name, email) 
VALUES (1, 'Test', 'User', 'test@university.edu');</code></pre>
                    </div>

                    <div class="alert alert-warning">
                        <strong>Foreign Key Constraint:</strong>
                        <pre><code class="language-sql">-- This should fail - invalid student_id reference
INSERT INTO Enrollments (student_id, course_id) VALUES (999, 1);</code></pre>
                    </div>

                    <div class="alert alert-warning">
                        <strong>Unique Constraint:</strong>
                        <pre><code class="language-sql">-- This should fail - duplicate email
INSERT INTO Students (first_name, last_name, email, date_of_birth) 
VALUES ('Another', 'User', 'john.doe@university.edu', '2000-01-01');</code></pre>
                    </div>
                </div>
            </div>

            <div class="card" id="queries">
                <div class="card-header">Sample Queries</div>
                <div class="card-body">
                    <h5>Basic Data Retrieval</h5>
                    <pre><code class="language-sql">-- Get all students
SELECT * FROM Students;

-- Get all courses
SELECT * FROM Courses;

-- Get all enrollments
SELECT * FROM Enrollments;</code></pre>

                    <h5 class="mt-4">JOIN Queries</h5>
                    <pre><code class="language-sql">-- Get student names with their enrolled courses and grades
SELECT 
    s.first_name, 
    s.last_name, 
    c.course_name, 
    e.grade
FROM Students s
JOIN Enrollments e ON s.student_id = e.student_id
JOIN Courses c ON e.course_id = c.course_id
ORDER BY s.last_name, s.first_name;</code></pre>

                    <h5 class="mt-4">Aggregate Queries</h5>
                    <pre><code class="language-sql">-- Count enrollments per student
SELECT 
    s.first_name, 
    s.last_name, 
    COUNT(e.enrollment_id) as total_courses
FROM Students s
LEFT JOIN Enrollments e ON s.student_id = e.student_id
GROUP BY s.student_id, s.first_name, s.last_name;</code></pre>
                </div>
            </div>

            <div class="card" id="conclusion">
                <div class="card-header">Conclusion</div>
                <div class="card-body">
                    <p>In this lab, you have learned how to:</p>
                    <ul>
                        <li>Create and modify database tables using DDL commands</li>
                        <li>Insert, update, and delete data using DML commands</li>
                        <li>Implement various constraints to ensure data integrity</li>
                        <li>Query data using SELECT statements with various clauses</li>
                        <li>Understand and test referential integrity constraints</li>
                    </ul>
                    <div class="alert alert-info">
                        <strong>Note:</strong> Make sure to test all the queries and understand the results. Try modifying the queries to experiment with different SQL features.
                    </div>
                </div>
            </div>

            <div class="card mt-4" id="assignment">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">Assignment 3: Lab Report - Company Database Implementation</h4>
                </div>
                <div class="card-body">
                    <h5>Assignment Overview</h5>
                    <p>Create a comprehensive lab report documenting your implementation of the Company database based on the ER diagram from Experiment 2. The report should demonstrate your understanding of DDL, DML, and database constraints.</p>
                    
                    <h5 class="mt-4">Report Structure</h5>
                    <div class="ms-4">
                        <h6>1. Introduction</h6>
                        <ul>
                            <li>Brief explanation of DDL and DML</li>
                            <li>Importance of data constraints in database design</li>
                        </ul>

                        <h6>2. Methodology</h6>
                        <ul>
                            <li>Database schema design rationale</li>
                            <li>Step-by-step procedure followed</li>
                        </ul>

                        <h6>3. Results</h6>
                        <ul>
                            <li>Screenshots of successful table creation</li>
                            <li>Examples of successful data insertion</li>
                            <li>Error messages from constraint violations</li>
                            <li>Query results showing data relationships</li>
                        </ul>

                        <h6>4. Analysis</h6>
                        <ul>
                            <li>Discussion of how primary keys ensure entity integrity</li>
                            <li>Explanation of how foreign keys maintain referential integrity</li>
                            <li>Analysis of constraint violation outcomes</li>
                        </ul>

                        <h6>5. Conclusion</h6>
                        <ul>
                            <li>Summary of key learnings</li>
                            <li>Importance of proper constraint design</li>
                            <li>Real-world applications</li>
                        </ul>
                    </div>

                    <div class="alert alert-warning mt-4">
                        <h5 class="alert-heading">Submission Guidelines</h5>
                        <ul class="mb-0">
                            <li><strong>Format:</strong> PDF document</li>
                            <li><strong>File name:</strong> <code>YourName_DBMS_Lab3_Report.pdf</code></li>
                            <li><strong>Submission:</strong> Upload to LMS portal</li>
                            <li><strong>Deadline:</strong> Sunday, September 7, 2025, 11:59 PM</li>
                        </ul>
                    </div>

                    <div class="alert alert-info mt-3">
                        <h5 class="alert-heading">Evaluation Criteria</h5>
                        <ul class="mb-0">
                            <li>Completeness of implementation (30%)</li>
                            <li>Correctness of SQL statements (25%)</li>
                            <li>Quality of analysis and explanations (25%)</li>
                            <li>Report structure and presentation (15%)</li>
                            <li>Timely submission (5%)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>
        // Initialize syntax highlighting
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });

            // Smooth scrolling for navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });

                        // Update active link
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        this.classList.add('active');
                    }
                });
            });

            // Update active link on scroll
            window.addEventListener('scroll', function() {
                const scrollPosition = window.scrollY;
                document.querySelectorAll('section').forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.offsetHeight;
                    const sectionId = section.getAttribute('id');
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${sectionId}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
