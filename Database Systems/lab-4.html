<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 4: SQL Constraints - Database Management Systems</title>
    <meta name="description" content="Lab 4: Understanding and applying SQL Constraints including Primary Key and Foreign Key">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .lab-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .lab-section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .entity-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .entity-table th, .entity-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .entity-table th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        .sql-code {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            white-space: pre;
        }
        .assignment-box {
            background-color: #e3f2fd;
            border-left: 4px solid #1976d2;
            border-radius: 4px;
            padding: 15px;
            margin: 20px 0;
        }
        .note {
            background-color: #fff3e0;
            border-left: 4px solid #ffa000;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 4px 4px 0;
        }
        .important {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 4px 4px 0;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="../index.html" class="logo">
                <img src="../images/upes_logo.png" alt="UPES Logo" style="height: 40px;">
                <span>Academic Portal</span>
            </a>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../courses.html">Courses</a></li>
                <li><a href="../labs.html" class="active">Labs</a></li>
                <li><a href="../about.html">About</a></li>
            </ul>
        </div>
    </nav>

    <div class="lab-content">
        <!-- Lab Header -->
        <div class="lab-header">
            <h1><i class="fas fa-database"></i> Database Management Systems</h1>
            <h2>Lab 4: SQL Constraints</h2>
            <div class="meta-info">
                <span><i class="fas fa-user"></i> Dr. Mohsin Dar</span>
                <span><i class="fas fa-calendar-alt"></i> September 7, 2025</span>
            </div>
        </div>

        <!-- Assignment Notice -->
        <div class="assignment-box">
            <h3><i class="fas fa-clipboard-list"></i> Lab Assignment</h3>
            <p><strong>Objective:</strong> To understand and apply the concept of data constraints in SQL, focusing on Primary Key and Foreign Key constraints.</p>
            <p><strong>Tools Required:</strong> MySQL Workbench or any SQL client</p>
        </div>

        <!-- Table Creation -->
        <div class="lab-section">
            <h3><i class="fas fa-table"></i> 1. Table Creation with Constraints</h3>
            
            <h4>1.1 CLIENT_MASTER Table</h4>
            <table class="entity-table">
                <thead>
                    <tr>
                        <th>Column Name</th>
                        <th>Data Type</th>
                        <th>Size</th>
                        <th>Constraints</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>CLIENTNO</td>
                        <td>VARCHAR</td>
                        <td>6</td>
                        <td>Primary Key, First letter must be 'C'</td>
                    </tr>
                    <tr>
                        <td>NAME</td>
                        <td>VARCHAR</td>
                        <td>20</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>ADDRESS1</td>
                        <td>VARCHAR</td>
                        <td>30</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>ADDRESS2</td>
                        <td>VARCHAR</td>
                        <td>30</td>
                        <td>Not Null</td>
                    </tr>
                    <tr>
                        <td>CITY</td>
                        <td>VARCHAR</td>
                        <td>15</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>PINCODE</td>
                        <td>INTEGER</td>
                        <td>8</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>STATE</td>
                        <td>VARCHAR</td>
                        <td>15</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>BALDUE</td>
                        <td>DECIMAL</td>
                        <td>10,2</td>
                        <td></td>
                    </tr>
                </tbody>
            </table>

            <div class="sql-code">
CREATE TABLE CLIENT_MASTER (
    CLIENTNO VARCHAR(6) PRIMARY KEY CHECK (CLIENTNO LIKE 'C%'),
    NAME VARCHAR(20),
    ADDRESS1 VARCHAR(30),
    ADDRESS2 VARCHAR(30) NOT NULL,
    CITY VARCHAR(15),
    PINCODE INT(8),
    STATE VARCHAR(15),
    BALDUE DECIMAL(10,2)
);
            </div>

            <h4>1.2 PRODUCT_MASTER Table</h4>
            <div class="sql-code">
CREATE TABLE PRODUCT_MASTER (
    PRODUCTNO VARCHAR(6) PRIMARY KEY CHECK (PRODUCTNO LIKE 'P%'),
    DESCRIPTION VARCHAR(15) NOT NULL,
    PROFITPERC DECIMAL(4,2) NOT NULL,
    UNITMEASURE VARCHAR(10) NOT NULL,
    QTYONHAND INT(8) NOT NULL,
    REORDERLVL INT(8) NOT NULL,
    SELLPRICE DECIMAL(8,2) NOT NULL,
    COSTPRICE DECIMAL(8,2) NOT NULL
);
            </div>

            <h4>1.3 SALESMAN_MASTER Table</h4>
            <div class="sql-code">
CREATE TABLE SALESMAN_MASTER (
    SALESMANNO VARCHAR(6) PRIMARY KEY CHECK (SALESMANNO LIKE 'S%'),
    SALESMANNAME VARCHAR(20) NOT NULL,
    ADDRESS1 VARCHAR(30) NOT NULL,
    ADDRESS2 VARCHAR(30),
    CITY VARCHAR(20),
    PINCODE INT(8),
    STATE VARCHAR(20),
    SALAMT DECIMAL(8,2) NOT NULL CHECK (SALAMT > 0),
    TGTTOGET DECIMAL(6,2) NOT NULL CHECK (TGTTOGET > 0),
    YTDSALES DOUBLE(6,2),
    REMARKS VARCHAR(60)
);
            </div>
        </div>

        <!-- Data Insertion -->
        <div class="lab-section">
            <h3><i class="fas fa-database"></i> 2. Data Insertion</h3>
            
            <h4>2.1 Inserting into CLIENT_MASTER</h4>
            <div class="sql-code">
INSERT INTO CLIENT_MASTER VALUES 
('C00001', 'Ivan bayross', 'A/14', 'Worli', 'Mumbai', 400054, 'Maharashtra', 15000),
('C00002', 'Mamta Muzumdar', '65', 'Nariman', 'Madras', 780001, 'Tamil Nadu', 0),
('C00003', 'Chhaya Bankar', 'P-7', 'Bandra', 'Mumbai', 400057, 'Maharashtra', 5000),
('C00004', 'Ashwini Joshi', 'A/5', 'Juhu', 'Mumbai', 400001, 'Maharashtra', 2000),
('C00005', 'Hansel Colaco', 'B/2', 'MG Road', 'Bangalore', 560001, 'Karnataka', 0),
('C00006', 'Deepak Sharma', 'D-45', 'Koramangala', 'Bangalore', 560001, 'Karnataka', 0);
            </div>

            <h4>2.2 Inserting into PRODUCT_MASTER</h4>
            <div class="sql-code">
INSERT INTO PRODUCT_MASTER VALUES 
('P00001', 'T-Shirt', 5, 'Piece', 200, 50, 350, 250),
('P0345', 'Shirts', 6, 'Piece', 150, 50, 500, 350),
('P06734', 'Cotton', 5, 'Piece', 100, 20, 600, 450),
('P07865', 'Jeans', 5, 'Piece', 100, 20, 750, 500),
('P07868', 'Trousers', 2, 'Piece', 150, 50, 850, 550),
('P07885', 'Pull Overs', 2.5, 'Piece', 80, 30, 700, 450),
('P07965', 'Denim Jeans', 4, 'Piece', 100, 40, 350, 250),
('P07975', 'Lycra Tops', 5, 'Piece', 70, 30, 300, 175),
('P08865', 'Skirts', 5, 'Piece', 75, 30, 450, 300);
            </div>

            <h4>2.3 Inserting into SALESMAN_MASTER</h4>
            <div class="sql-code">
INSERT INTO SALESMAN_MASTER VALUES 
('S00001', 'Aman', 'A/14', 'Worli', 'Mumbai', 400002, 'Maharashtra', 3000, 100, 50, 'Good'),
('S00002', 'Omkar', '65', 'Nariman', 'Mumbai', 400001, 'Maharashtra', 3000, 200, 100, 'Good'),
('S00003', 'Raj', NULL, 'Bandra', 'Mumbai', 400032, 'Maharashtra', 3000, 200, 100, 'Good'),
('S00004', 'Ashish', 'A/5', 'Juhu', 'Mumbai', 400044, 'Maharashtra', 3500, 200, 150, 'Good');
            </div>
        </div>

        <!-- Exercises -->
        <div class="lab-section">
            <h3><i class="fas fa-tasks"></i> 3. Exercises on Retrieving Records</h3>
            
            <div class="exercise">
                <h4>3.1 Find out the names of all the clients.</h4>
                <div class="sql-code">
SELECT NAME FROM CLIENT_MASTER;
                </div>
            </div>

            <div class="exercise">
                <h4>3.2 Retrieve the entire contents of the Client_Master table.</h4>
                <div class="sql-code">
SELECT * FROM CLIENT_MASTER;
                </div>
            </div>

            <div class="exercise">
                <h4>3.3 Retrieve the list of names, city and the state of all the clients.</h4>
                <div class="sql-code">
SELECT NAME, CITY, STATE FROM CLIENT_MASTER;
                </div>
            </div>

            <div class="exercise">
                <h4>3.4 List the various products available from the Product_Master table.</h4>
                <div class="sql-code">
SELECT DESCRIPTION FROM PRODUCT_MASTER;
                </div>
            </div>

            <div class="exercise">
                <h4>3.5 List all the clients who are located in Mumbai.</h4>
                <div class="sql-code">
SELECT * FROM CLIENT_MASTER WHERE CITY = 'Mumbai';
                </div>
            </div>

            <div class="exercise">
                <h4>3.6 Find the names of salesman who have a salary equal to Rs.3000.</h4>
                <div class="sql-code">
SELECT SALESMANNAME FROM SALESMAN_MASTER WHERE SALAMT = 3000;
                </div>
            </div>
        </div>

        <!-- Update Exercises -->
        <div class="lab-section">
            <h3><i class="fas fa-edit"></i> 4. Exercises on Updating Records</h3>
            
            <div class="exercise">
                <h4>4.1 Change the city of ClientNo 'C00005' to 'Bangalore'.</h4>
                <div class="sql-code">
UPDATE CLIENT_MASTER SET CITY = 'Bangalore' WHERE CLIENTNO = 'C00005';
                </div>
            </div>

            <div class="exercise">
                <h4>4.2 Change the BalDue of ClientNo 'C00001' to Rs.1000.</h4>
                <div class="sql-code">
UPDATE CLIENT_MASTER SET BALDUE = 1000 WHERE CLIENTNO = 'C00001';
                </div>
            </div>

            <div class="exercise">
                <h4>4.3 Change the cost price of 'Trousers' to Rs.950.00.</h4>
                <div class="sql-code">
UPDATE PRODUCT_MASTER SET COSTPRICE = 950.00 WHERE DESCRIPTION = 'Trousers';
                </div>
            </div>

            <div class="exercise">
                <h4>4.4 Change the city of the salesman to Pune.</h4>
                <div class="sql-code">
UPDATE SALESMAN_MASTER SET CITY = 'Pune';
                </div>
            </div>
        </div>

        <!-- Delete Exercises -->
        <div class="lab-section">
            <h3><i class="fas fa-trash-alt"></i> 5. Exercises on Deleting Records</h3>
            
            <div class="exercise">
                <h4>5.1 Delete all salesman from the Salesman_Master whose salaries are equal to Rs.3500.</h4>
                <div class="sql-code">
DELETE FROM SALESMAN_MASTER WHERE SALAMT = 3500;
                </div>
            </div>

            <div class="exercise">
                <h4>5.2 Delete all products from Product_Master where the quantity on hand is equal to 100.</h4>
                <div class="sql-code">
DELETE FROM PRODUCT_MASTER WHERE QTYONHAND = 100;
                </div>
            </div>

            <div class="exercise">
                <h4>5.3 Delete from Client_Master where the column state holds the value 'Tamil Nadu'.</h4>
                <div class="sql-code">
DELETE FROM CLIENT_MASTER WHERE STATE = 'Tamil Nadu';
                </div>
            </div>
        </div>

        <!-- Alter Table Exercises -->
        <div class="lab-section">
            <h3><i class="fas fa-table"></i> 6. Exercises on Altering Table Structure</h3>
            
            <div class="exercise">
                <h4>6.1 Add a column called 'Telephone' of data type integer to the Client_Master table.</h4>
                <div class="sql-code">
ALTER TABLE CLIENT_MASTER ADD TELEPHONE INT;
                </div>
            </div>

            <div class="exercise">
                <h4>6.2 Change the size of SellPrice column in Product_Master to 10,2.</h4>
                <div class="sql-code">
ALTER TABLE PRODUCT_MASTER MODIFY SELLPRICE DECIMAL(10,2);
                </div>
            </div>
        </div>

        <!-- Drop Table Exercise -->
        <div class="lab-section">
            <h3><i class="fas fa-trash"></i> 7. Exercise on Deleting Table Structure</h3>
            
            <div class="exercise">
                <h4>7.1 Destroy the table Client_Master along with its data.</h4>
                <div class="important">
                    <h4><i class="fas fa-exclamation-triangle"></i> Warning</h4>
                    <p>This operation will permanently delete the table and all its data. Make sure you have a backup if needed.</p>
                </div>
                <div class="sql-code">
DROP TABLE CLIENT_MASTER;
                </div>
            </div>
        </div>

        <!-- Submission Guidelines -->
        <div class="lab-section" style="background-color: #e8f5e9; border-left: 4px solid #4caf50;">
            <h3><i class="fas fa-clipboard-check"></i> Submission Guidelines</h3>
            
            <ol>
                <li>Create all the tables with proper constraints as specified.</li>
                <li>Insert the sample data provided.</li>
                <li>Execute all the SQL queries for each exercise.</li>
                <li>Take screenshots of the output for each query.</li>
                <li>Create a PDF document containing:
                    <ul>
                        <li>All the SQL commands you executed</li>
                        <li>Screenshots of the outputs</li>
                        <li>Any observations or challenges faced</li>
                    </ul>
                </li>
                <li>Submit the PDF file on the learning management system before the deadline.</li>
            </ol>
            
            <div class="note">
                <h4><i class="fas fa-lightbulb"></i> Note</h4>
                <p>Make sure to test your queries thoroughly before submission. Pay special attention to the constraints while inserting and updating data.</p>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../courses.html">Courses</a></li>
                    <li><a href="../labs.html">Labs</a></li>
                    <li><a href="../about.html">About</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p><i class="fas fa-envelope"></i> mohsin.dar@upes.ac.in</p>
                <p><i class="fas fa-university"></i> Cloud & Software Operations Cluster</p>
                <p><i class="fas fa-school"></i> UPES, Dehradun</p>
            </div>
            <div class="footer-section">
                <h4>Follow Us</h4>
                <div class="social-links">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 UPES. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
