<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab Experiment 4: Variable and Scope of Variable</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 40px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            border-left: 5px solid #3498db;
        }
        .section h2 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 0;
        }
        .section h3 {
            color: #34495e;
            margin-top: 25px;
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border: 1px solid #3e3e3e;
        }
        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .output {
            background: #2d3748;
            color: #68d391;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #68d391;
        }
        .output h4 {
            margin: 0 0 10px 0;
            color: #68d391;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #f39c12;
        }
        .warning strong {
            color: #d68910;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #b8daff;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }
        .info strong {
            color: #0c5460;
        }
        .objectives {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .objectives h2 {
            margin-top: 0;
            border-bottom: 2px solid rgba(255,255,255,0.3);
        }
        .objectives ul {
            list-style: none;
            padding-left: 0;
        }
        .objectives li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        .objectives li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            font-weight: bold;
            color: #00b894;
        }
        .concept-box {
            background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .concept-box h3 {
            margin-top: 0;
            color: white;
        }
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }
        tr:hover {
            background: #f5f5f5;
        }
        .keyword {
            color: #569cd6;
            font-weight: bold;
        }
        .string {
            color: #ce9178;
        }
        .comment {
            color: #6a9955;
            font-style: italic;
        }
        .function {
            color: #dcdcaa;
        }
        .number {
            color: #b5cea8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Lab Experiment 4</h1>
            <p>Variable and Scope of Variable</p>
            <p><strong>Course:</strong> C Programming | <strong>Semester:</strong> BTech First | <strong>Instructor:</strong> Dr. Mohsin Dar</p>
        </div>

        <div class="content">
            <div class="objectives">
                <h2>Learning Objectives</h2>
                <ul>
                    <li>Understand the concept of variable scope in C programming</li>
                    <li>Differentiate between global and local variables</li>
                    <li>Explore block scope and its implications</li>
                    <li>Learn about static local variables and their persistence</li>
                    <li>Apply scope rules in practical programming scenarios</li>
                </ul>
            </div>

            <div class="concept-box">
                <h3>What is Variable Scope?</h3>
                <p><strong>Variable Scope</strong> refers to the region of the program where a variable can be accessed or used. It determines the visibility and lifetime of variables in different parts of your program.</p>
            </div>

            <div class="section">
                <h2>Part 1: Global Variables</h2>
                <p>Global variables are declared outside all functions and can be accessed from any function within the program.</p>

                <h3>Example 1.1: Basic Global Variable Usage</h3>
                <div class="code-block">
                    <pre><span class="comment">// Global variable declaration</span>
<span class="keyword">int</span> globalVar = <span class="number">100</span>;

<span class="keyword">void</span> <span class="function">displayGlobal</span>() {
    <span class="function">printf</span>(<span class="string">"Global variable in displayGlobal(): %d\n"</span>, globalVar);
}

<span class="keyword">void</span> <span class="function">modifyGlobal</span>() {
    globalVar = <span class="number">200</span>;
    <span class="function">printf</span>(<span class="string">"Modified global variable: %d\n"</span>, globalVar);
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="function">printf</span>(<span class="string">"Initial global variable: %d\n"</span>, globalVar);
    
    <span class="function">displayGlobal</span>();
    <span class="function">modifyGlobal</span>();
    <span class="function">displayGlobal</span>();
    
    <span class="keyword">return</span> <span class="number">0</span>;
}</pre>
                </div>

                <div class="output">
                    <h4>Expected Output:</h4>
                    <pre>Initial global variable: 100
Global variable in displayGlobal(): 100
Modified global variable: 200
Global variable in displayGlobal(): 200</pre>
                </div>

                <div class="info">
                    <strong>Key Points:</strong>
                    <ul>
                        <li>Global variables are accessible from all functions</li>
                        <li>Changes made to global variables persist throughout the program</li>
                        <li>Global variables are stored in the data segment of memory</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Part 2: Local Variables vs Global Variables</h2>
                <p>Local variables are declared inside functions and have limited scope. Let's compare their behavior with global variables.</p>

                <h3>Example 2.1: Local Variable Scope</h3>
                <div class="code-block">
                    <pre><span class="comment">// Global variable</span>
<span class="keyword">int</span> globalNumber = <span class="number">50</span>;

<span class="keyword">void</span> <span class="function">testLocalScope</span>() {
    <span class="keyword">int</span> localNumber = <span class="number">25</span>; <span class="comment">// Local variable</span>
    
    <span class="function">printf</span>(<span class="string">"Inside testLocalScope():\n"</span>);
    <span class="function">printf</span>(<span class="string">"  Local variable: %d\n"</span>, localNumber);
    <span class="function">printf</span>(<span class="string">"  Global variable: %d\n"</span>, globalNumber);
    
    <span class="comment">// Modifying both variables</span>
    localNumber = <span class="number">75</span>;
    globalNumber = <span class="number">150</span>;
    
    <span class="function">printf</span>(<span class="string">"After modification:\n"</span>);
    <span class="function">printf</span>(<span class="string">"  Local variable: %d\n"</span>, localNumber);
    <span class="function">printf</span>(<span class="string">"  Global variable: %d\n"</span>, globalNumber);
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="function">printf</span>(<span class="string">"In main() before function call:\n"</span>);
    <span class="function">printf</span>(<span class="string">"  Global variable: %d\n"</span>, globalNumber);
    
    <span class="comment">// This would cause an error - localNumber is not accessible here</span>
    <span class="comment">// printf("Local variable: %d\n", localNumber); // ERROR!</span>
    
    <span class="function">testLocalScope</span>();
    
    <span class="function">printf</span>(<span class="string">"In main() after function call:\n"</span>);
    <span class="function">printf</span>(<span class="string">"  Global variable: %d\n"</span>, globalNumber);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}</pre>
                </div>

                <div class="output">
                    <h4>Expected Output:</h4>
                    <pre>In main() before function call:
  Global variable: 50
Inside testLocalScope():
  Local variable: 25
  Global variable: 50
After modification:
  Local variable: 75
  Global variable: 150
In main() after function call:
  Global variable: 150</pre>
                </div>

                <div class="warning">
                    <strong>Important:</strong> Trying to access a local variable outside its function will result in a compilation error. Local variables are destroyed when the function exits.
                </div>
            </div>

            <div class="section">
                <h2>Part 3: Block Scope Variables</h2>
                <p>Variables can also be declared within code blocks (enclosed by curly braces) and have block scope.</p>

                <h3>Example 3.1: Block Scope Demonstration</h3>
                <div class="code-block">
                    <pre><span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> outerVar = <span class="number">10</span>;
    
    <span class="function">printf</span>(<span class="string">"Outer variable: %d\n"</span>, outerVar);
    
    <span class="comment">// Creating a new block</span>
    {
        <span class="keyword">int</span> innerVar = <span class="number">20</span>; <span class="comment">// Block scope variable</span>
        
        <span class="function">printf</span>(<span class="string">"Inside block:\n"</span>);
        <span class="function">printf</span>(<span class="string">"  Inner variable: %d\n"</span>, innerVar);
        <span class="function">printf</span>(<span class="string">"  Outer variable: %d\n"</span>, outerVar);
        
        <span class="comment">// Modifying outer variable from inner block</span>
        outerVar = <span class="number">30</span>;
        <span class="function">printf</span>(<span class="string">"  Modified outer variable: %d\n"</span>, outerVar);
    }
    
    <span class="function">printf</span>(<span class="string">"Outside block:\n"</span>);
    <span class="function">printf</span>(<span class="string">"  Outer variable: %d\n"</span>, outerVar);
    
    <span class="comment">// This would cause an error - innerVar is not accessible here</span>
    <span class="comment">// printf("Inner variable: %d\n", innerVar); // ERROR!</span>
    
    <span class="keyword">return</span> <span class="number">0</span>;
}</pre>
                </div>

                <div class="output">
                    <h4>Expected Output:</h4>
                    <pre>Outer variable: 10
Inside block:
  Inner variable: 20
  Outer variable: 10
  Modified outer variable: 30
Outside block:
  Outer variable: 30</pre>
                </div>

                <h3>Example 3.2: Nested Block Scope</h3>
                <div class="code-block">
                    <pre><span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> level1 = <span class="number">100</span>;
    
    <span class="function">printf</span>(<span class="string">"Level 1 variable: %d\n"</span>, level1);
    
    {
        <span class="keyword">int</span> level2 = <span class="number">200</span>;
        <span class="function">printf</span>(<span class="string">"Level 2 - level1: %d, level2: %d\n"</span>, level1, level2);
        
        {
            <span class="keyword">int</span> level3 = <span class="number">300</span>;
            <span class="function">printf</span>(<span class="string">"Level 3 - level1: %d, level2: %d, level3: %d\n"</span>, 
                   level1, level2, level3);
            
            <span class="comment">// All variables are accessible here</span>
            level1 = <span class="number">111</span>;
            level2 = <span class="number">222</span>;
            level3 = <span class="number">333</span>;
        }
        
        <span class="function">printf</span>(<span class="string">"Back to Level 2 - level1: %d, level2: %d\n"</span>, level1, level2);
        <span class="comment">// level3 is not accessible here</span>
    }
    
    <span class="function">printf</span>(<span class="string">"Back to Level 1 - level1: %d\n"</span>, level1);
    <span class="comment">// level2 and level3 are not accessible here</span>
    
    <span class="keyword">return</span> <span class="number">0</span>;
}</pre>
                </div>

                <div class="output">
                    <h4>Expected Output:</h4>
                    <pre>Level 1 variable: 100
Level 2 - level1: 100, level2: 200
Level 3 - level1: 100, level2: 200, level3: 300
Back to Level 2 - level1: 111, level2: 222
Back to Level 1 - level1: 111</pre>
                </div>
            </div>

            <div class="section">
                <h2>Part 4: Static Local Variables</h2>
                <p>Static local variables retain their value between function calls, unlike regular local variables.</p>

                <h3>Example 4.1: Static vs Regular Local Variables</h3>
                <div class="code-block">
                    <pre><span class="keyword">void</span> <span class="function">demonstrateStatic</span>() {
    <span class="keyword">int</span> regularVar = <span class="number">0</span>;        <span class="comment">// Regular local variable</span>
    <span class="keyword">static int</span> staticVar = <span class="number">0</span>; <span class="comment">// Static local variable</span>
    
    <span class="function">printf</span>(<span class="string">"Regular variable: %d, Static variable: %d\n"</span>, 
           regularVar, staticVar);
    
    regularVar++;
    staticVar++;
    
    <span class="function">printf</span>(<span class="string">"After increment - Regular: %d, Static: %d\n"</span>, 
           regularVar, staticVar);
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="function">printf</span>(<span class="string">"First call to demonstrateStatic():\n"</span>);
    <span class="function">demonstrateStatic</span>();
    
    <span class="function">printf</span>(<span class="string">"\nSecond call to demonstrateStatic():\n"</span>);
    <span class="function">demonstrateStatic</span>();
    
    <span class="function">printf</span>(<span class="string">"\nThird call to demonstrateStatic():\n"</span>);
    <span class="function">demonstrateStatic</span>();
    
    <span class="keyword">return</span> <span class="number">0</span>;
}</pre>
                </div>

                <div class="output">
                    <h4>Expected Output:</h4>
                    <pre>First call to demonstrateStatic():
Regular variable: 0, Static variable: 0
After increment - Regular: 1, Static: 1

Second call to demonstrateStatic():
Regular variable: 0, Static variable: 1
After increment - Regular: 1, Static: 2

Third call to demonstrateStatic():
Regular variable: 0, Static variable: 2
After increment - Regular: 1, Static: 3</pre>
                </div>

                <h3>Example 4.2: Practical Use of Static Variables - Function Call Counter</h3>
                <div class="code-block">
                    <pre><span class="keyword">int</span> <span class="function">getCallCount</span>() {
    <span class="keyword">static int</span> callCount = <span class="number">0</span>;
    callCount++;
    <span class="keyword">return</span> callCount;
}

<span class="keyword">void</span> <span class="function">processData</span>(<span class="keyword">int</span> data) {
    <span class="keyword">int</span> callNumber = <span class="function">getCallCount</span>();
    <span class="function">printf</span>(<span class="string">"Processing data %d (Call #%d)\n"</span>, data, callNumber);
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="function">processData</span>(<span class="number">10</span>);
    <span class="function">processData</span>(<span class="number">20</span>);
    <span class="function">processData</span>(<span class="number">30</span>);
    
    <span class="function">printf</span>(<span class="string">"Total function calls: %d\n"</span>, <span class="function">getCallCount</span>());
    
    <span class="keyword">return</span> <span class="number">0</span>;
}</pre>
                </div>

                <div class="output">
                    <h4>Expected Output:</h4>
                    <pre>Processing data 10 (Call #1)
Processing data 20 (Call #2)
Processing data 30 (Call #3)
Total function calls: 4</pre>
                </div>
            </div>

            <div class="section">
                <h2>Variable Scope Summary</h2>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Variable Type</th>
                                <th>Scope</th>
                                <th>Lifetime</th>
                                <th>Memory Location</th>
                                <th>Accessibility</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Global</strong></td>
                                <td>Entire program</td>
                                <td>Program execution</td>
                                <td>Data segment</td>
                                <td>All functions</td>
                            </tr>
                            <tr>
                                <td><strong>Local</strong></td>
                                <td>Function only</td>
                                <td>Function execution</td>
                                <td>Stack</td>
                                <td>Current function</td>
                            </tr>
                            <tr>
                                <td><strong>Block</strong></td>
                                <td>Block only</td>
                                <td>Block execution</td>
                                <td>Stack</td>
                                <td>Current block</td>
                            </tr>
                            <tr>
                                <td><strong>Static Local</strong></td>
                                <td>Function only</td>
                                <td>Program execution</td>
                                <td>Data segment</td>
                                <td>Current function</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2>Complete Lab Exercise</h2>
                <p>Try this comprehensive example that demonstrates all concepts:</p>

                <div class="code-block">
                    <pre><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="comment">// Global variable</span>
<span class="keyword">int</span> globalCounter = <span class="number">0</span>;

<span class="keyword">void</span> <span class="function">demonstrateAllScopes</span>(<span class="keyword">int</span> parameter) {
    <span class="comment">// Local variable</span>
    <span class="keyword">int</span> localVar = <span class="number">10</span>;
    
    <span class="comment">// Static local variable</span>
    <span class="keyword">static int</span> staticCounter = <span class="number">0</span>;
    
    <span class="function">printf</span>(<span class="string">"\n=== Function Call ===\n"</span>);
    <span class="function">printf</span>(<span class="string">"Parameter: %d\n"</span>, parameter);
    <span class="function">printf</span>(<span class="string">"Local variable: %d\n"</span>, localVar);
    <span class="function">printf</span>(<span class="string">"Static counter: %d\n"</span>, staticCounter);
    <span class="function">printf</span>(<span class="string">"Global counter: %d\n"</span>, globalCounter);
    
    <span class="comment">// Block scope demonstration</span>
    {
        <span class="keyword">int</span> blockVar = <span class="number">50</span>;
        <span class="function">printf</span>(<span class="string">"Block variable: %d\n"</span>, blockVar);
        
        <span class="comment">// Modifying variables from different scopes</span>
        localVar += <span class="number">5</span>;
        staticCounter++;
        globalCounter++;
        blockVar += <span class="number">10</span>;
        
        <span class="function">printf</span>(<span class="string">"After modification in block:\n"</span>);
        <span class="function">printf</span>(<span class="string">"  Local: %d, Static: %d, Global: %d, Block: %d\n"</span>,
               localVar, staticCounter, globalCounter, blockVar);
    }
    
    <span class="function">printf</span>(<span class="string">"After block (blockVar not accessible):\n"</span>);
    <span class="function">printf</span>(<span class="string">"  Local: %d, Static: %d, Global: %d\n"</span>,
           localVar, staticCounter, globalCounter);
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="function">printf</span>(<span class="string">"Variable Scope Demonstration\n"</span>);
    <span class="function">printf</span>(<span class="string">"============================\n"</span>);
    
    <span class="comment">// Multiple function calls to observe behavior</span>
    <span class="function">demonstrateAllScopes</span>(<span class="number">100</span>);
    <span class="function">demonstrateAllScopes</span>(<span class="number">200</span>);
    <span class="function">demonstrateAllScopes</span>(<span class="number">300</span>);
    
    <span class="function">printf</span>(<span class="string">"\n=== Final Global Counter Value ===\n"</span>);
    <span class="function">printf</span>(<span class="string">"Global counter: %d\n"</span>, globalCounter);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}</pre>
                </div>

                <div class="output">
                    <h4>Expected Output:</h4>
                    <pre>Variable Scope Demonstration
============================

=== Function Call ===
Parameter: 100
Local variable: 10
Static counter: 0
Global counter: 0
Block variable: 50
After modification in block:
  Local: 15, Static: 1, Global: 1, Block: 60
After block (blockVar not accessible):
  Local: 15, Static: 1, Global: 1

=== Function Call ===
Parameter: 200
Local variable: 10
Static counter: 1
Global counter: 1
Block variable: 50
After modification in block:
  Local: 15, Static: 2, Global: 2, Block: 60
After block (blockVar not accessible):
  Local: 15, Static: 2, Global: 2

=== Function Call ===
Parameter: 300
Local variable: 10
Static counter: 2
Global counter: 2
Block variable: 50
After modification in block:
  Local: 15, Static: 3, Global: 3, Block: 60
After block (blockVar not accessible):
  Local: 15, Static: 3, Global: 3

=== Final Global Counter Value ===
Global counter: 3</pre>
                </div>
            </div>

            <div class="section">
                <h2>Lab Assignment Questions</h2>
                <div class="info">
                    <h3>Exercise Questions:</h3>
                    <ol>
                        <li><strong>Analysis Question:</strong> Explain why the static counter increases with each function call while the local variable resets to 10.</li>
                        <li><strong>Prediction Question:</strong> What would happen if we declared a local variable with the same name as a global variable?</li>
                        <li><strong>Coding Challenge:</strong> Write a function that uses a static variable to calculate the running average of numbers passed to it.</li>
                        <li><strong>Error Analysis:</strong> Identify and explain the compilation errors in attempting to access block-scoped variables outside their blocks.</li>
                        <li><strong>Best Practices:</strong> When would you prefer static local variables over global variables?</li>
                    </ol>
                </div>
            </div>

            <div class="concept-box">
                <h3>Key Takeaways</h3>
                <ul>
                    <li><strong>Global variables</strong> are accessible throughout the program but should be used sparingly</li>
                    <li><strong>Local variables</strong> provide encapsulation and are destroyed when the function exits</li>
                    <li><strong>Block scope</strong> allows for temporary variables within specific code sections</li>
                    <li><strong>Static local variables</strong> combine local accessibility with persistent storage</li>
                    <li>Understanding scope helps prevent naming conflicts and memory management issues</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>